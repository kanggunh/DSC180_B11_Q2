Paper #: 3868_1
Title: Enhancing efficiency: A study on all-inorganic CsSnBr 3 metal halide perovskites with micro-band offset using DFT and SCAPS-1D modeling
In this study, we simulated a non-toxic, all-inorganic CsSnBr 3 perovskite solar cell (PSC). Using first-principles PBE functional analysis, we evaluated the optoelectronic characteristics of the CsSnBr 3 and performed numerical simulations and optimizations with SCAPS-1D. Our findings indicate that CsSnBr 3 , possessing a direct band gap of 1.78 eV, represents an optimal inorganic perovskite material for PSCs. The micro-band offset (MBO) energy structure of ZnOS/CsSnBr 3 /CuI, characterized by a small energy band offset, generates an intrinsic electric field (Ebi) that greatly improves carrier transport and facilitates the separation of photogenerated electron-hole pairs, resulting in a peak power conversion efficiency (PCE) of 18.89 %. Optimization of this structure involved adjusting the doping concentrations in the electron transport layer (ETL) and hole transport layer (HTL) to 10 17 cm -3 for the ETL and 10 19 cm -3 , respectively. Increasing the absorber layer thickness improved photovoltaic characteristics, although high defect densities negatively impacted carrier diffusion length and PSC performance. Additionally, we examined the effect of varying metal back electrode (BME) and the thermal stability analysis on the PV performance of the device The micro-band offset (MBO) energy structure, as revealed by our analysis of the carrier transport pathway, enhances energy level transitions and facilitates more efficient carrier transport. Under optimal conditions, the PSCs with the MBO-energy structure demonstrated exceptional performance, with PCE = 23.98 %, Voc = 1.40 V, Jsc = 19.68 mA/cm 2 , and FF = 86.74 %. These results highlight the significant potential of the MBO-energy structure for Sn-based PSCs. They offer valuable insights for developing stable, highly efficient, cost-effective, and environmentally friendly CsSnBr 3based PSCs.
Introduction As environmental pollution and global energy issues become increasingly severe, solar energy is gaining prominence as a renewable and clean energy source  [1, 2] . Over the past decade, perovskite solar cells (PSCs) have demonstrated considerable promise for use in solar energy applications. Key attributes of the light harvesting layer in PSCs include a straightforward preparation process, adjustable band gap, and a high carrier lifetime  [3, 4] . These advantages have propelled the power conversion efficiency (PCE) of PSCs from an initial 3.8 %  [5]  to a remarkable 25.73 %  [6] . However, the widespread use of lead (Pb)based materials in solar cells (SCs) raises serious environmental and health concerns  [7] [8] [9] . Therefore, there is an urgent need to identify highly efficient and less toxic alternatives to lead in PSCs  [10] . Tin-based perovskites possess properties identical to those of Pb-based perovskites, making them a promising alternative material and sparking extensive research in the field of SCs  [11] [12] [13] [14] [15] [16] . Among Pb-free perovskite materials, tin (Sn) stands out as the primary candidate due to its similar ionic radius to lead, as both elements belong to group  (14)  of the periodic table. Tin, for instance, is abundant and has minimal environmental and health impacts. Moreover, the band gap of Sn-based PSCs is closer to the ideal values predicted by the Shockley-Queisser limit theory compared to Pb-based PSCs  [17] . Germanium, another potential alternative, shares several properties with lead but has a much smaller ionic radius, enhancing ion conductivity. However, Ge-based perovskites face even more significant stability issues due to oxidation compared to Sn-based perovskites, largely due to the reduced inert pair effect  [18] . Bromine (Br)-based perovskite materials also exhibit excellent photoelectric properties comparable to Pb-halide perovskites. Researchers have been extensively investigating Sn-based perovskites like MASnI 3 and FASnI 3 . However, these materials suffer from instability due to the presence of organic cations (FA and MA)  [19] . Recent advancements have focused on substituting the organic cations with Cs + , with cesium tin tribromide (CsSnBr 3 ) emerging as a promising alternative. CsSnBr 3 exhibits advantageous properties, including a high absorption coefficient (ranging from approximately 5 × 10 3 to 5.7 × 10 4 cm -1 )  [20] , an optimal bandgap (1.75 to 1.9 eV)  [19] , favorable charge-carrier effective masses, and superior thermal stability  [19, 21] . These characteristics facilitate more efficient carrier extraction compared to organic cation-based counterparts. Therefore, the integration of Cs and Br-based perovskites is considered as the favorable alternative to lead in metal halide PSCs  [21] . Despite its potential, CsSnBr 3 solar cells face challenges such as significant charge recombination and rapid performance degradation. These issues stem from tin's tendency to oxidize from Sn 2+ to Sn 4+ , which undermines the stability of tin-based PSCs  [22] [23] [24] . This oxidation is detrimental to their long-term performance. To mitigate these problems, several strategies have been proposed, including additive engineering  [21, 25] , compositional engineering  [19] , and the development of low-dimensional perovskites. These approaches have shown considerable improvements in the quality of thin films and the overall performance of SCs. Early research conducted by Sabba et al. demonstrated the effect of anionic Br -substitution on the open circuit voltage (Voc) in Pb-free PSCs, showing that higher Br content increases the voltage by forming CsSnI 3-x Br x (0 ≤ x ≤ 3) perovskites  [21] . In the same year, Park et al. explored optimizing all-inorganic tin halide PSCs, achieving a record 11.87 % efficiency with CsSnI 2 Br by addressing stability and efficiency challenges through compositional engineering  [19] . It highlights the potential of tin-based perovskites as effective Pbfree alternatives for solar energy applications. A study by Chen et al. developed a new method for making Pb-free cesium Sn halide perovskite quantum rods with adjustable optical properties. By replacing the halide in these rods, the PCE of photovoltaic (PV) devices increases to 10.46 % under standard solar conditions  [26] . Moghe et al. developed an allvapor fabrication method for Pb-free doped perovskite using an excess of SnBr 2 , resulting in air-stable films and devices with a PCE of 0.5 %  [27] . Kumar et al. explored incorporating reduced graphene oxide (rGO) into CsSnBr 3 perovskite to enhance the performance of PSCs. Findings indicate that the stable and adjustable electronic characteristics of rGO lead to an PCE enhancement to 5.27 %, with the best outcomes observed using 3 % rGO  [28] . Li et al. enhanced the durability of PSCs through the incorporation of CsSnIBr 2 perovskite combined with hypophosphorous acid, resulting in improved stability and efficiency. These PSCs exhibit sustained efficiency levels for a period of 77 days and maintain stability at 473 K for 9 h  [25] . Raoui et al. optimized PSCs with cesium-based perovskites (CsPbI 2 Br and CsSnI 3-x Br x ) as absorbers through computational modeling, addressing issues like high defect density and energy level mismatch, and achieving efficiencies of 17.71 % and 20.32 %, respectively, providing valuable insights for improving PSC performance  [29] . In another study  [30] , SCAPS-1D simulations were employed to optimize PSCs with a Ga 2 O 3 hole-blocking layer, resulting in a 28.19 % efficiency by refining key parameters. Similarly, PSCs with zinc oxide (ZnO) electron transport layers (ETLs) modified with carbon nanotubes (CNTs) demonstrated enhanced film quality, thermal stability, and PCE, increasing from 15.05 % to 18.79 %  [31] . Additionally, Dar et al. explored a tri-layer architecture using cesium-lead-free alternatives, aiming to improve both the efficiency and stability of PSCs. The study resulted in a significant efficiency enhancement, increasing from 16.32 to 30.86 %  [32] . Moreover, for PSCs to achieve optimal functionality, precise alignment of the energy levels between the transport and perovskite layers is essential. Effective energy band alignment across each layer reduces interfacial recombination, thereby enhancing carrier diffusion into the charge transport layers (CTLs). Recent advancements have investigated a range of hole transport layers (HTLs) used in PSCs, including CuSbS 2 , CuO, PTAA, MoO 3 , CuI and P 3 HT  [33, 34] . Notably, Qin et al. have demonstrated that employing a CuO/ Spiro-OMeTAD double HTL optimizes the energy levels in PSCs, improving carrier transport pathways and reducing recombination, which significantly enhances the performance of PSCs to 21.82 %  [35] . Lu et al. introduced a CuI layer between perovskite and Spiro-OMeTAD layers, improving PSC efficiency to 17.44 % and stability by reducing defects and protecting against air and moisture  [36] . Also, the ETLs like SnS 2  [37] , CdS  [38] , IGZO  [39] , PCBM  [33] , ICBA  [40] , ZnOS  [41] , and TiO 2  [33]  are commonly utilized. These materials are crucial for aligning the energy levels with the perovskite layer and preventing holes from transporting to the front electrode, thus minimizing recombination  [42] . Among these options, ZnOS is distinguished as the optimal ETL material because of its reduced electron affinity, which enables alignment of its conduction band with that of the CsSnBr 3 absorber layer. The combined effect of ZnOS's energy band alignment and the built-in electric field (Ebi) promotes efficient carrier separation within PSCs. Despite these advancements, the current theoretical understanding and simulation studies of energy level matching and other internal factors in CsSnBr 3 PSCs remain limited. Further research and theoretical modeling are needed to fully elucidate these mechanisms and optimize the performance of CsSnBr 3 -based PSCs. Motivated from previous studies and the experimental setup described by Fang et al.  [20] , this research employs an FTO/MoO 3 /CsSnBr 3 /TiO 2 /Al architecture. This research presents a novel numerical investigation of a non-toxic, all-inorganic CsSnBr 3 PSC featuring a unique Micro-Band Offset (MBO) energy structure, integrated into a ZnOS/CsSnBr 3 /CuI architecture. Using a combination of Density Functional Theory (DFT) and SCAPS-1D modeling, the study provides both theoretical insights and practical optimization of the device. The MBO-energy structure generates an intrinsic electric field that enhances carrier transport and separation, significantly improving power conversion efficiency (PCE) to a peak of 23.98 %. A key focus of the work is the precise energy band alignment between the electron and hole transport layers (ETLs and HTLs) and the absorber layer, which reduces recombination and promotes efficient carrier diffusion. Optimization also involved adjusting the absorber thickness, trap density, doping concentrations in the CTLs, and configuring the back metal electrode (BME). This comprehensive approach not only advances device efficiency but also investigates the thermal stability and role of BMEs, offering valuable insights for future research into high-performance, lead-free CsSnBr 3 -based PSCs. 
 Methodology 
 First -principles calculations of CsSnBr 3 Density functional theory (DFT) has established itself as a crucial technique for investigating material properties due to its precision and reliability. We conducted first-principles calculations to understand the optical and electrical characteristics of materials using an ab initio quantum mechanics code. This code leverages the plane-wave pseudopotential method to execute DFT calculations within the Cambridge Serial Total Energy Package (CASTEP)  [43] . In our investigation, we optimized the structures and assessed their convergence using the Perdew-Burke-Ernzerhof (PBE) exchange-correlation functional within the generalized gradient approximation (GGA) framework. We applied a plane wave cut-off energy of 500 eV and maintained energy convergence accuracy at 1 × 10 -6 eV/atom. For Brillouin zone integration, a 10 × 10 × 10 k-point grid was utilized. The crystal structure of CsSnBr 3 was determined to belong to the space group Pm3‾m (International Number 221), with lattice parameters a = b = c = 5.5285 Å and lattice angles α = β = γ = 90.0 • . Fig.  1  illustrates the single-cell crystal structure of CsSnBr 3. To investigate the band gap structure and optical properties of CsSnBr 3 , we used the GGA + PBE functional. For more accurate calculations and to mitigate the PBE functional's known underestimation of semiconductor bandgaps  [44, 45] , we employed the HSE03 hybrid functional in subsequent steps. This approach allows for a more precise analysis of the band structure of CsSnBr 3 . 
 Drift diffusion modeling In this study, the PSC, consisting of CsSnBr 3 was simulated using SCAPS-1D  [46]  simulator. This program allows for the concurrent simulation of up to seven semiconductor layers, functioning according to the principles of the Poisson's and the continuity equations for holes and electrons within semiconductor layers. The Poisons equation (  1 ) and the continuity equations (2-3) for both holes and electrons, is as: dE dx = q ε 0 ε r [p(x) -n(x) + N D + (x) -N A -(x) + ρ t (x) -n t (x) ] (1) dp n dt = G p - p n -p n0 τ p + p n μ p dE dx + μ p E dp n dx + D p d 2 p n dx 2 (2) dn p dt = G n - n p -n p0 τ n + n p μ n dE dx + μ n E dn p dx + D n d 2 n p dx 2 (3) The equations governing diffusion-drift carrier transport (4-5) can be explained as follows: J n (x) = qnμ n E + qD n dn dx = nμ n dE Fn dx (4) J p (x) = qpμ p E -qD p dp dx = pμ p dE Fp dx (5) We analyzed the PSC model equations, including boundary conditions, to derive both the J-V and QE curves for the photovoltaic cell. 
 Device architecture and modeling details The architectural representation of PSC structured with multiple layers is illustrated in Fig.  2 . This study focuses on simulating solar cells (SC) employing CsSnBr 3 absorber material, with different ETLs and HTLs which have not been previously investigated. The choice of these materials was guided by specific considerations: CsSnBr 3 for enhanced stability  [19]  and superior PCE  [19, 21] . The HTLs are 150 nm thick, and the ETLs are 50 nm thick, with further details provided in the Supporting Information (Tables  S1, S2,  and S3 ). Throughout this study, we use an illumination power of approximately 1000 W/m 2 with an AM1.5G spectrum at room temperature (300 K). The work functions for front and back contact are 4.4 eV and 4.3 eV, respectively. 
 Verification of the device model To assess the performance efficacy of the devices, we focused on validating the operational efficiency of a single-layer structure. In this configuration, CsSnBr 3 acted as the photo-sensitive layer, titanium dioxide (TiO 2 ) served as the electron transport layer (ETL), molybdenum trioxide (MoO 3 ) functioned as the hole transport layer (HTL), and aluminum (Al) was used as the metal contact. The device exhibited a PCE of 1.5 % with a MoO 3 thickness of 30 nm, 0.572 % with a MoO 3 thickness of 40 nm, and 0.05 % with a MoO 3 thickness of 20 nm, in agreement with experimental results  [20] . Figs.  3  and 4  provide a detailed representation of the numerically simulated J-V characteristics and QE curves respectively for the PSC configuration. The input simulation parameters used to validate the simulation results against experimental data are provided in Tables  1  and S1 . The input simulation parameters for different HTLs, ETLs and interfaces used in this study are given in Tables S2, S3 and S4 respectively.    
 Results and discussion 
 Optoelectronic characteristics of CsSnBr 3 The optoelectronic properties of materials are essential for understanding their use in semiconductor devices. The energy band structure of CsSnBr 3 was calculated using the GGA + PBE method, focusing on the high symmetry points in the Brillouin zone (G-F-Q-Z-G) as shown in Fig.  5(a) . The horizontal dotted line represents the Fermi level (E F ) and is set to zero. The calculations showed that the valence band minimum (VBM) and conduction band maximum (CBM) are both at the Q point, giving a direct band gap of 1.56 eV. However, the GGA + PBE functional often underestimates the band gap in semiconductor materials, so the HSE03 hybrid functional was applied for greater accuracy (Fig.  5(b) ). The HSE03 calculations also placed the VBM and CBM at the Q point, with a direct band gap of 1.78 eV, which is very close to the experimentally observed band gap of 1.75 eV (1.75-1.78 eV). This observation is in agreement with the experimental data and the results presented in Table  2 . The partial density of states (PDOS) and total density of states (TDOS) of CsSnBr 3 (Fig.  5(c )), reveal that the conduction band is primarily composed of Sn p-orbitals and Br s-orbitals, while the valence band mainly consists of Br p-orbitals. The Cs atoms make a minimal contribution to the total density of states (TDOS), suggesting that the bandgap of CsSnBr 3 is primarily influenced by the Sn and Br atoms. Optical properties of perovskite materials like CsSnBr 3 are often characterized by parameters such as the dielectric function (ε(ω)), absorption coefficient (α(ω)), and refractive index (n(ω)). The relationship between ε(ω) and α(ω) is expressed as: ε(ω) = ε 1 (ω) + iε 2 (ω) (6) α(ω) = ̅̅̅ 2 √ ω ̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅ -ε 1 (ω) + ̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅ ̅ ε 1 2 (ω) + +ε 2 2 (ω) √ √ ( 7 ) where ω is the frequency, ε 1 (ω) and ε 2 (ω) denote the real and imaginary parts of the ε(ω), respectively. Understanding the optical properties of materials is crucial for their application in photovoltaic and optoelectronic devices. This study examines the interaction of CsSnBr 3 with photons across infrared, visible, and ultraviolet spectra, focusing on various optical processes such as the dielectric function ε(ω), refractive index n(ω), α(ω), optical conductivity (σ(ω)), and reflectivity (R(ω)) up to photon energies of 40 eV. The analysis primarily considered inter-band transitions, excluding intraband contributions due to the limited scattering cross-section of indirect transitions involving phonons. The ε(ω) results show that both the real and imaginary parts are higher at low energies and decrease significantly at higher energies, with the static dielectric constant ε 1 (0) calculated to be 13.87, indicating strong electronic polarizability (Fig.  6  (a) ). The refractive index, which affects refraction, reflection, and dispersion, was also investigated. The static refractive index n(0) is 3.73, with the extinction coefficient k(ω) peaking at 1.24 eV, suggesting minimal light absorption, typical for semiconductors (Fig.  6(b) ). The    absorption coefficient α(ω) measures the material's light absorption capacity. The α(ω) spectrum showed an increase with some prominent peaks at 3.27, 8.49, and 10.59 eV. The peak absorption coefficient of 29.48 × 10 4 cm -1 was observed at 14.79 eV, indicating that the material exhibits strong absorption characteristics, including in the visible spectrum, suggesting its potential for solar panel applications (Fig.  6(c) ). Optical conductivity σ(ω), representing the material's ability to conduct electricity in response to light, showed initial peaks at 1.7, 7.7, 10.22, and 13.82 eV, before gradually decreasing (Fig.  6(d) ). Reflectivity R(ω) is approximately 0.33 % at zero frequency and increases at higher energies due to inter-band transitions. The low R(ω) values across the studied energy range suggest high absorptivity/transmissivity, making CsSnBr 3 suitable for optoelectronic applications (Fig.  6 (e)). 
 HTL optimization The HTL in PV devices extracts holes from the absorber layer to the anode, aligns energy levels for efficient charge extraction, and blocks electrons to reduce recombination. The valence band offset (VBO) quantifies the alignment between the HTL and the absorber layer    [41, 42] . Mathematically, VBO in Eq. (  8 ) is expressed as: VBO = ( χ HTL + E gHTL ) -(χ Abs + E gAbs ) (8) where χ HTL and χ Abs are the electron affinities of the HTL and Absorber layer, and E gHTL and E gAbs are the bandgaps of the HTL and Absorber layer. Table  3  summarizes the impact of different HTL materials on the performance of PSCs. Fig.  7  shows the energy level matching between various HTLs and the light absorber layer, with VBO values for CuSbS 2 , CuO, P3HT, PTAA, MoO 3 , Spiro-OMeTAD, and CuI as +0.13, +0.03, -0.45, -0.41, -0.40, -0.35, and -0.25 eV, respectively. A negative VBO forms a cliff structure, whereas a positive VBO forms a spike structure. HTLs such as PTAA, MoO 3 , Spiro-OMeTAD, CuI, and P3HT create a spike structure, while CuSbS 2 and CuO result in a cliff structure. Generally, a slightly negative or small positive VBO is preferred because it ensures good alignment of energy levels and reduces barriers for hole transport  [42, 50] . The VBO at the CuO/CsSnBr 3 interface is +0.03 eV, while the VBO at the CuI/CsSnBr 3 interface is -0.25 eV. Both values are small enough to facilitate the smooth transport of holes toward the electrodes. Table  3  indicates that using CuI as the HTL yields the best device performance due to a favorable cliff structure reducing carrier recombination. Fig.  8 (a) and (b) show that changing the HTL significantly affects the J-V curves and slightly impacts the QE curves, highlighting the HTL energy level's influence on the Voc and minor effect on Jsc, consistent with Table  3 . This investigation further examines the intricate influence of diverse HTL materials on energy band configurations and the distribution of intrinsic electric fields (Ebi). Fig.  8(c ) illustrates that transitioning from a negative to a positive VBO value in the HTL layer changes the CsSnBr 3 /HTL interface from a cliff to a spike structure, in accordance with the previously mentioned VBO analysis. Specifically, the VBOs at the CuO/CsSnBr 3 and CuI/CsSnBr 3 interfaces are +0.03 eV and -0.25 eV, respectively. A VBO of -0.25 eV is preferable for achieving better efficiency and enabling smoother hole transport compared to a VBO of +0.03 eV. This favorable band alignment at CuI/CsSnBr 3 interface diminishes carrier recombination. Furthermore, Fig.  8(d ) illustrates that the favorable band alignment at CsSnBr 3 /CuI interface enhances carrier transport between layers through a beneficial intrinsic electric field, thereby enhancing PSC performance. 
 ETL optimization The ETL plays a critical role in determining the PCE of PSCs by modulating the pathway of carrier transport. Optimal performance is achieved when the ETL aligns with the energy level of the absorber layer, facilitating efficient electron extraction while blocking holes to minimize the rate of recombination. The conduction band offset (CBO) is a crucial parameter used to assess the alignment of energy levels between the ETL layer and the absorber material. It indicates the energy barrier for electron transfer between the two layers. Mathematically, CBO (ΔE c ) is expressed as the difference between the conduction band minimum (CBM) of ETL material (E ETL c ) and the conduction band minimum of absorber layer (E Abs c ), as given in Eq. (  9 ): ΔE c = E ETL c -E Abs c ( 9 ) To understand the impact of ETL energy levels on PSCs, various ETL materials (SnS 2 , CdS, IGZO, TiO 2 , PCBM, ICBA and ZnOS) were utilized to manipulate the CBO of the device. PSC simulations were conducted based on the FTO/ETL/CsSnBr 3 /CuI/Au structure, with detailed material parameters provided in Tables  S2  and S3 . Fig.  9  illustrates the correlation between the energy levels of each ETL material and the absorber layer. Analysis revealed CBO values of -1.13, -1.05, -1.03, -0.87, -0.77, -0.61 and -0.37 eV for SnS 2 , CdS, IGZO, TiO 2 , PCBM, ICBA and ZnOS, respectively. Notably, a negative CBO indicates better energy level alignment, with ZnOS demonstrating the closest match at -0.37 eV, resulting in the formation of MBO-energy structure at ZnOS/ CsSnBr 3 interface. Table  4  demonstrates that employing ZnOS as ETL leads to the highest PCE of 18.89 %, surpassing other ETL materials. This superior performance could be attributed to the better band alignment at the ZnOS/CsSnBr 3 interface, thereby mitigating carrier recombination rates within the PSCs. Fig.  10 (a) and (b) depict how variations in the ETL minimally affect the J-V curves and have marginal impacts on the QE curves. This observation underscores the limited influence of ETL energy levels on both the Voc and the Jsc, as validated by Table  4 . The energy level profiles, and Ebi distribution curves are illustrated in Fig.  10(c)  and (d) . In Fig.  10(c ), Vbi is shown as the difference between the CBs at the absorber and CTL interface, divided by the elementary charge (q). Increasing the negative CBO of the CTLs in the graphs shifts the energy bands downward at the interface between the perovskite layer and ETL, leading to an increased built-in potential (Vbi). This demonstrates a positive correlation between negative CBO and Vbi. The MBO-energy structure at ZnOS/CsSnBr 3 interface achieves a maximum Vbi of 1.25 V. Additionally, Fig.  10(d)  shows that the bandgap alignment at the ZnOS/CsSnBr 3 interface generates an Ebi that enhances carrier transport and separation, thereby improving the PCE of the device. To highlight the benefits of the MBO-energy structure using ZnOS/CsSnBr 3 /CuI, we Fig.  9 . Energy level matching between various ETLs and the CsSnBr 3 layer.  Notably, when CuI and ZnOS are utilized as the HTL and ETL, the PSCs achieve a peak PCE of 18.89 %. This underscores the significant enhancement in performance due to the MBO-energy structure. Therefore, in the subsequent discussion, we adopt the standard PSC structure of FTO/ZnOS/CsSnBr 3 /CuI/Au. 
 Absorber thickness and defect density optimization The absorber thickness and defect density (Nt) are critical parameters in the design and fabrication of efficient PSCs. If the absorber layer is too thin, it may not absorb sufficient sunlight, resulting in lower photocurrent and reduced PCE. Conversely, a thicker absorber layer can absorb more sunlight, potentially increasing the photocurrent and overall PCE. However, excessively thick layers can cause recombination losses due to the longer path of photogenerated charge carriers  [33, 51, 52] . High defect densities in the absorber layer act as recombination centers, reducing photocurrent density and overall efficiency. Lower defect densities favor fewer recombination centers, allowing more charge carriers to contribute to the current, thus improving PCE. Therefore, a balance must be struck between adequate light absorption and minimizing recombination losses to achieve optimal performance  [32] [33] [34] . To achieve this balance, the absorber thickness and defect density were simultaneously varied in the range of 0.1 to 1.5 µm and 10 10 to 10 20 cm -3 , respectively. Fig.  12(a-d ) depict the dependence of PV performance parameters on the absorber layer thickness and Nt. The proposed MBO-energy structure performs best at higher thickness values and lower defect densities. In Fig.  12(a) , for defect densities in the range of 10 10 to 10 14 cm -3 and thickness values varying from 0.1 to 1.5 µm, there is no significant decrease in PCE. However, as the defect density exceeds 10 15 cm -3 , the PCE shows a drastic decrease. For instance, with an absorber thickness varying from 0.1 to 1.5 µm and defect density set constant at 10 10 cm -3 , the PCE increases from 9.83 to 24.57 %. Similarly, for defect densities in the range of 10 10 to 10 20 cm -3 and absorber thickness set constant at 0.1 µm, the PCE decreases from 9.82 to 1.11 %. From the analysis, the optimum values for the absorber thickness and defect density, where the MBO-energy structure achieves the best performance while maintaining a good balance between absorption and recombination loss, are 1 µm and 10 13 cm -3 , respectively. If the absorber thickness exceeds 1 µm, the PV performance parameters show no significant change. When the defect density exceeds 10 13 cm -3 , the PV performance parameters decrease drastically. In Fig.  12 (b), it is observed that as absorber thickness increases from 0.1 to 1.5 µm, the Voc increases from 1.38 to 1.43 V for a defect density of 10 10 cm -3 . When Nt increases from 10 10 to 10 20 cm -3 , Voc decreases from 1.38 to 0.71 V for an absorber thickness of 0.1 µm. Eq. (  10 ) provides a clearer understanding of how Voc decreases dramatically as Nt increases. V oc = ηkT q ln ( J sc J o + 1 ) (10) where J o is defined as the dark saturation current. Electron-hole pair recombination significantly influences the value of J o and this value is intricately linked to J sc . As the defect density (Nt) increases, the number of recombination centers also rises, reducing the number of carriers that reach the electrodes. This process results in an increased J o and a decreased J sc . According to Eq. (  11 ), these shifts cause a decline in Voc, consistent with the trends shown in Fig.  12 . To further comprehend the influence of defect density on performance of PSCs, the SRH recombination equation is considered as: R sh = np -n i 2 τ ( p + n + 2n i Cosh ( Ei -Et kT ) ) (11) τ n,p = 1 σ n,p N t V th  (12)  where V th is the thermal velocity set at 10 7 cm, τ n,p is lifetime of electrons and holes and σ n,p is the capture cross section area. Eq. (  12 ) indicates that τ n,p is significantly dependent on Nt, assuming σ n,p and V th are constants, as supported by literature  [32] [33] [34] . Fig.  13  and the accompanying Table  6  illustrate that as Nt increases, both τ n,p and PCE exhibit a declining trend. Notably, when Nt exceeds 10 14 cm -3 , the PCE drastically decreases from 18.55 to 0.15 %. This reduction in PCE can be attributed to the sharp decline in the carrier diffusion length (L n,p ), primarily due to the decreased carrier lifetime (τ n,p ). The carrier diffusion length is expressed as:  (13)  In Eq. (  13 ), the L n,p is positively correlated with τ n,p . As shown in Table  5 , as Nt increases from 10 10 to 10 20 cm -3 , τ n,p decreases from 10 7 to 10 -3 ns, and L n,p reduces from 7.9 × 10 2 to 7.9 × 10 -3 µm. This reduction means that the L n,p becomes significantly smaller than the  7.9 × 10 1 20.85 10 14 10 3 7.9 18.55 10 16  10 1 7.9 × 10 -1 13.66 10 18  10 -1 7.9 × 10 -2 5.31 10 20  10 -3 7.9 × 10 -3 0.15 L n,p = ̅̅̅̅̅̅̅̅̅̅̅̅̅ μ n,p KT q √ τ n,p 
 Table 6 Variation of PV performance parameters with the increase in defect density. absorber thickness, leading to inefficient carrier collection by the respective electrodes and a consequent reduction in PCE from 20.95 to 0.15 %. The impact of Nt on the recombination rate is depicted in Fig.  13  (d ). The recombination rate increases sharply with rising Nt, verifying the above analysis. This discussion highlights that reducing defect density effectively enhances the properties of MBO-based PSCs (Table  6 ). However, achieving a very low Nt during fabrication is challenging. Consequently, the Nt for CsSnBr 3 is set at 10 13 cm -3 . N t (cm -3 ) Voc (V) Jsc (mAcm -2 ) FF (%) 
 ETL and HTL doping density optimization To enhance the performance of PSCs, doping the ETL and HTL is essential. Doping the ETL aligns its energy levels with the perovskite layer, improving electrical conductivity and facilitating efficient electron extraction and transport at the ETL/absorber interface. In HTLs, increasing the doping concentration enhances hole mobility, ensuring efficient hole extraction and transport. This process tunes the energy levels to match the perovskite's valence band, thereby reducing recombination at the HTL/absorber interface. By optimizing both ETL and HTL doping, the built-in electric field (Ebi) can be adjusted, thereby improving device performance. The doping densities for ETL and HTL were varied in the range of 10 10 to 10 20 cm -3 . In Fig.  14 , it is observed that when N D and N A are varied from 10 10 to 10 14 cm -3 , all the PV parameters remain stable. Once N D and N A exceed 10 14 cm -3 , all the PV parameters show a gradual increase. When the doping concentration for both CTLs exceeds 10 18 cm -3 , the PV parameters stabilize with no significant increase. For these doping concentrations, the PV performance achieved includes a PCE of 18.88 %, Voc of 1.25 V, Jsc of 17.81 mA/cm 2 , and FF of 84.69 %. To further analyze the influence of doping concentrations in the CTLs, the doping of the ETL was varied from 10 15 to 10 20 cm -3 while keeping the HTL doping fixed at 10 19 cm -3 . As illustrated in Figs.  15(c ) and 16(c), increasing the ETL doping concentration causes the energy level profile at the ETL/absorber interface to shift downwards, while increasing the HTL doping concentration causes the energy level profile at the absorber/HTL interface to shift upwards. Therefore, higher doping concentrations in both CTLs enhance the carrier transport pathway. This improvement, combined with the increased interlayer potential energy (P.E.), allows carriers to gain higher initial kinetic energy. The changes in the energy band profile can be explained by the Eq. (  14   V bi = kT q ln ( N A N D n 2 i ) (14) where n i is the intrinsic carrier concentration. Eq. (  14 ) illustrates that as N D and N A increase, the built-in potential V bi also gradually increases, causing the energy bands at both the ETL/ absorber and absorber/HTL interfaces to shift (as seen in Figs.  15  and 16 ). These shifts enhance the electron-hole transport ability across the different layers in PSCs. The elevation in V bi boosts the electric potential of photogenerated carriers, leading to an upward trend in Voc (Fig.  14  (b )) when both the ETL and HTL are highly doped. Additionally, higher doping concentrations narrow the width of the depletion region (W), reducing opposition to the flow of majority carriers and thereby improving the PV parameters (Fig.  14(a-d ) of the PSC device, as suggested by Eq. (  15 ): W∝ ̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅ ̅ 1 N A + N D √ (15) Since PCE is mathematically linked to other PV parameters as in Eq. (  16 ): PCE = FF × Voc × Jsc Pin (16) Therefore, improvement in any of these parameters will lead to a higher PCE. Additionally, Figs.  15(a-d ) and 16(a-d), illustrate the variation of J-V characteristics, QE curves, Energy band profile and Electric field offset values with the increase in N D (ETL) and N A (HTL) respectively. These graphs indicate that the change in N D and N A significantly impacts Ebi of MBO-energy structure. Although increasing the N D and N A of ETL and HTL layers generally enhances Ebi, excessively high levels of N D (N A ) can increase the carrier recombination rate in solar cells. Hence to ensure optimal carrier transport within the device, we have determined that a dopant density of 10 17 cm -3 for ETL and 10 19 cm -3 for HTL are optimal. 
 Optimizing the back metal electrode Optimization of back metal electrode (BME) in PSCs is crucial for enhancing their PCEs and overall performance. Therefore, selecting the appropriate BME is highly important in the MBO-energy structure. To demonstrate the impact of different BMEs on PV performance, BMEs like Ni, Au, C, Cu, Ag and Al were utilized, with respective work functions, (φ wf ) of 5.15, 5.1, 5, 4.65, 4.57 and 4.3 eV respectively. From Fig.  17 , it is seen that when φ wf is varied in the range 5.15 to 5 eV, the constant value of PCE of 18.59 % is achieved. However, as φ wf decreases from 4.65 to 4.3 eV, the PCE drops from 18.13 to 14.69 %. As the φ wf of the BME increases, the Voc noticeably drops from 1.246 to 1.22 V in Fig.  17  (b), while the device's Jsc remains constant. In contrast, when C is used as the BME, the Voc is unaffected by the increase in φ wf . Table  7  shows that FF and PCE exhibit similar declining trends. Therefore, it can be concluded that Voc and FF are the primary ways in which the BME influences the device's PCE. To investigate the cause, we used the energy level diagram for illustration. As seen in Fig.  17(c ), the device's Voc gradually increases as the increase in φ wf boosts Vbi. However, once the φ wf reaches 5 eV, Vbi stops increasing, and consequently, the Voc does not increase further. The Schottky barrier (φ B ) that arises at the interface between HTL and BME can be represented by the subsequent formula: φ B = E g q + χ -φ wf ( 17 ) where E g is the bandgap and χ is the electron affinity of HTL. Eq. (  17 ) implies that decreasing φ wf , results in a gradual increase in φ B . Appropriate φ B can minimize carrier recombination between interfaces, while excessively high barriers may impede interlayer carrier transport. Thus, reducing the φ wf leads to a decline in PCE and other PV parameters consistent with the results shown in Fig.  17  and Table 7 . Fig.  18  shows the variation in JV characteristics and QE curves with the change in φ wf of BME. It is observed that with the increase in φ wf value, the JV curves shift towards right indicating an increase in the Voc values and the Jsc remains constant. With the change in φ wf , the QE curves remain unaffected. QE curve being unaffected by the φ wf , indicates that other factors, such as strong built-in fields, or inherent material properties, are playing a more significant role in determining the QE curves of the device. Based on the analysis, Carbon (C) with φ wf = 5 eV demonstrates performance comparable to that of gold (Au) and nickel (Ni). Given the cost considerations for PSCs, C is selected as the BME for the PSC device. 
 Thermal stability analysis of PSC structure Ensuring the commercial viability of PSCs requires maintaining efficiency and stability across different temperatures, as the performance of PSCs is highly sensitive to operating temperatures. To evaluate the temperature effects on PSCs with an MBO-energy structure, we use an illumination power of approximately 1000 W/m 2 with an AM1.5G spectrum. The operational temperature range was set between 300 K and 400 K. According to Fig.  19(a  and b ), as the temperature increases, the PV performance parameters of PSCs remain largely stable, except for a decrease in Voc. This suggests that PSCs can still deliver excellent performance at higher temperatures. The temperature dependence of Voc can be understood utilizing Eqs. (  18 ) and (19) as: V oc = E g q - nk B T q ln ( I sc I o ) (18) E g = E g,0 - aT 2 b + T (19) where E g is the material bandgap, T is the absolute temperature, E g,0 is the material bandgap at Temperature = 0 K. As temperature increases Eqs. (  18 ) and (19) suggest a decrease in the band gap of the device's materials, resulting in a slight drop in the Voc of PSCs. Fig.  19(c  and d ) depicts a consistent Ebi within PSCs despite rising temperature, accompanied by a modest increase in the carrier recombination rate. This underscores the resilience of the Ebi generated by the MBO-energy structure, which remains effective even at elevated temperatures. Despite the thermal-induced disorder in carrier motion, the Ebi facilitates carrier transport, thereby maintaining a high QE. Consequently, it can be inferred that PSCs featuring an MBO-energy structure exhibit commendable thermal stability.  
 Optimum device characteristics of PSC structure This study enhanced solar cell efficiency by developing an MBOenergy structure with an FTO/ZnOS/CsSnBr 3 /CuI/Au configuration. An intrinsic electric field produced by this structure facilitates carrier transport and the dissociation of photogenerated electron-hole (e-h) pairs. It also smooths transitions between energy levels, improving the carrier transport path. Fig.  20  illustrates how the MBO-energy structure defines this path. Sections (3.2) and (3.3) discuss the energy levels of the CTLs, revealing that the MBO-Structure of ZnOS/CsSnBr 3 and CsSnBr 3 /  Our work indicates that the reduced diffusion length is primarily due to significant absorber defects and interface recombination, which likely contribute to the low reported efficiencies. This conclusion was reached by varying several materials and device parameters. Ultimately, our comprehensive investigation of various organic and inorganic HTLs and ETLs in CsSnBr 3 -based PSC configurations suggests that the FTO/ZnOS/ CsSnBr 3 /CuI/C configuration could achieve a remarkable PCE of 23.98 %, outperforming the forty-nine different configurations we examined. 
 Conclusion In this study, a non-toxic all inorganic CsSnBr 3 PSC designed with a micro-band offset (MBO) energy structure is simulated. We analyzed the optoelectronic characteristics of the CsSnBr 3 perovskite layer using the first-principles PBE functional and carried out numerical simulations and optimizations of the PSCs with SCAPS-1D. Our findings indicate that CsSnBr 3 , possessing a direct band gap of 1.78 eV, is an excellent inorganic perovskite material choice for photovoltaic applications. By investigating band energy alignment in the CTLs, we discovered that the ZnOS/CsSnBr 3 /CuI MBO-energy structure creates an intrinsic electric field (Ebi) that greatly improves the transport of carriers and aids in the separation of photogenerated electron-hole pairs. This configuration achieved a peak PCE of 18.89 %, outperforming other PSC structures. Further optimization of the micro-band offset structure involved adjusting the doping concentration in the ETL and HTL materials, with the ideal concentrations identified as 10 17 cm -3 for the ETL and 10 19 cm -3 for the HTL. We found that increasing the absorber layer thickness improved the PV characteristics of solar cell. Nevertheless, excessively high trap concentrations led to a significant decrease in diffusion length, adversely affecting the performance of PSCs. Furthermore, we conducted investigations into the back metal electrode and the thermal  stability analysis of these devices. The micro-band offset (MBO) energy structure, as revealed by our analysis of the carrier transport pathway, enhances energy level transitions and facilitates more efficient carrier transport. Under optimal conditions, the PSCs with the MBO-energy structure demonstrated exceptional performance, with PCE = 23.98 %, Voc = 1.40 V, Jsc = 19.68 mA/cm 2 , and FF = 86.74 %. These results highlight the significant potential of the MBO-energy band structure for tin-based PSCs. They offer valuable insights for developing stable, highly efficient, cost-effective, and environmentally friendly CsSnBr 3 -based PSCs. Fig. 2 . 2 Fig. 2. PSC device architecture. 
 Fig. 3 . 3 Fig. 3. PV Performance of PSC Devices featuring FTO/TiO 2 (50 nm)/CsSnBr 3 (250 nm)/MoO3 (X nm)/Al (100 nm) Configuration. 
 Fig. 1 . 1 Fig. 1. Unit cell structure of CsSnBr 3 . 
 Fig. 5 . 5 Fig. 5. Bandgap structure of CsSnBr 3 : (a) GGA calculation, (b) TDOS and PDOS, and (c) HSE calculation. 
 Fig. 4 . 4 Fig. 4. Simulated QE curves for CsSnBr 3 PSC (MoO 3 thickness 40 nm). 
 Fig. 6 . 6 Fig. 6. Optical characteristics of CsSnBr 3 as a function of energy (a) Dielectric function (b) Refractive Index (c) Absorption coefficient (d) Conductivity (e) Reflectivity. 
 Fig. 7 .Fig. 8 . 78 Fig. 7. Energy level matching between various HTLs and the CsSnBr 3 layer. 
 Fig. 10 . 10 Fig. 10. Variation in the PV characteristics with different ETL materials (a) J-V characteristics (b) QE curves (c) Energy band profile (d) Electric Field. 
 Fig. 11 .Fig. 12 . 1112 Fig. 11. Effect of ETLs and HTLs on CsSnBr 3 based PSCs. 
 Fig. 13 . 13 Fig. 13. Effect of CsSnBr 3 Defect density on (a) J-V characteristics (b) Carrier lifetime τ n,p and PCE, (c) Diffusion length L n,p , and (d) Recombination rate. 
 Fig. 14 . 14 Fig. 14. Impact of doping concentration of ETL and HTL on the (a) PCE (b) Voc (c) Jsc (d) FF. 
 Fig. 15 . 15 Fig. 15. Impact of varying the dopant density of ETL (HTL doping fixed at 10 19 cm -3 ) (a) J-V characteristics (b) QE curves (c) Energy band profile (d) Offset Electric Field. 
 Fig. 16 . 16 Fig. 16. Impact of varying the doping concentration of HTL (ETL doping fixed at 10 19 cm -3 ) (a) J-V characteristics (b) QE curves (c) Energy band profile (d) Offset Electric Field. 
 Fig. 17 . 17 Fig. 17. Effect of the back metal electrode on (a) PCE (b) Voc and FF (c) Energy level profile (d) Local Energy level profile. 
 Fig. 18 .Fig. 19 . 1819 Fig. 18. Impact of varying the back metal electrode on (a) J-V characteristics (b) QE curves. 
 Fig. 20 . 20 Fig. 20. Carrier Transport paths of FTO/ZnOS/CsSnBr 3 /CuI/Au based microband offset PSC configuration. 
 Fig. 21 . 21 Fig. 21. (a) J-V characteristics and inset show quantum efficiency characteristics of FTO/ZnOS/CsSnBr 3 /CuI/Au based PSC configuration (b) Comparison between some theoretical and experimental reports on the CsSnBr 3 . 
 Table 1 1 Simulation and Experimental input parameters for Rse, Rsh, and Aluminum thickness. Parameters Series Resistance, Rse Shunt Resistance, Rsh Al Thickness MoO 3 Thickness Sim. Exp. Sim. Exp. Sim. Exp. 20 nm 27.68 31.81 30.73 34.64 - 100 30 nm 85.45 90.91 62.45 69.06 - 100 40 nm 183.89 201.34 120.45 127.26 - 100 References [20] [20] [20] 
 Table 2 2 Comparison of calculated Bandgap values with previous DFT work. Perovskite PBE + GGA HSE03 EXPERIMENT Material This Others This Others work work CsSnBr 3 1.56 0.64 1.78 1.11 1.75 [19,21] [47] [47] 0.63 1.10 [48] [49] 
 Table 3 3 Performance metrics of PSC with distinct HTLs. Parameters CuSbS 2 P3HT CuO PTAA MoO 3 Spiro-OMeTAD CuI PCE (%) 16.49 17.23 17.58 18.20 18.30 18.68 18.76 Voc (V) Jsc (mAcm -2 ) 1.11 17.83 1.16 18.08 1.15 17.74 1.24 17.83 1.247 17.83 1.248 17.83 1.25 17.83 FF (%) 83.14 81.92 86.47 81.96 82.25 83.90 84.24 
 Table 4 4 Performance metrics of PSC with distinct HTLs. Parameters SnS 2 CdS IGZO TiO 2 PCBM ICBA ZnOS PCE (%) 17.87 18.14 18.17 18.31 18.40 18.61 18.89 Voc (V) Jsc (mAcm -2 ) 1.21 18.05 1.21 17.85 1.22 17.82 1.23 17.77 1.23 17.89 1.24 17.88 1.25 17.81 FF (%) 79.22 81.30 81.61 82.28 82.74 83.30 84.72 
 Table 5 5 Variation of Carrier Lifetime and Diffusion Length with increasing defect density. N t (cm -3 ) Carrier Lifetime (ns) Diffusion length (µm) PCE (%) 10 10 10 12 10 7 10 5 7.9 × 10 2 20.95 
 Table 7 7 Variation in PV parameters with the change in BME. BMC PCE (%) Voc (V) Jsc (mAcm -2 ) FF (%) Ni 18.59 1.2464 17.71 84.18 Au 18.59 1.2464 17.71 84.18 C 18.59 1.2464 17.71 84.18 Cu 18.13 1.2463 17.71 82.08 Ag 16.95 1.246 17.71 76.8 Al 14.09 1.2195 17.71 65.21
