Paper #: 104
Efficient perovskite solar cells via improved carrier management
Nature Research wishes to improve the reproducibility of the work that we publish. This form is intended for publication with all accepted papers reporting the characterization of photovoltaic devices and provides structure for consistency and transparency in reporting. Some list items might not apply to an individual manuscript, but all fields must be completed for clarity. For further information on Nature Research policies, including our data availability policy, see Authors & Referees. 
 Experimental design Please check: are the following details reported in the manuscript? 1. Dimensions Area of the tested solar cells Yes No Main text, method section, and Figure 4 caption Method used to determine the device area Yes No Figure 4 caption 2. Current-voltage characterization Current density-voltage (J-V) plots in both forward and backward direction Yes No Main text and method section Voltage scan conditions For instance: scan direction, speed, dwell times Yes No Main text and method section Test environment For instance: characterization temperature, in air or in glove box Yes No Main text and method section Protocol for preconditioning of the device before its characterization Yes No No preconditioning protocol was involved during testing Stability of the J-V characteristic Verified with time evolution of the maximum power point or with the photocurrent at maximum power point; see ref. 7 for details. 
 Yes No Methods section and Supplementary Figure  23
Methods Chemicals DI water, urea, hydrochloric acid (HCl, 37 wt. % in water), thioglycolic acid (TGA, 98%), SnCl2•2H2O (>99.995%) , dimethylformamide (DMF), dimethyl sulfoxide (DMSO), diethyl ether, chlorobenzene, chloroform, isopropyl alcohol, lithium Bis(trifluoromethanesulfonyl)imide salt (Li-TFSI), and 4-tert-butylpyridine (tBP) were purchased from Sigma-Aldrich. 2,2',7,7'-Tetrakis(N,N -di-p -methoxyphenylamino)-9,9'-spirobifluorene (Spiro-OMeTAD, LT-S922) and Tris(2-(1H -pyrazol-1-yl)-4-tert-butylpyridine)cobalt(III)Tris(bis(trifluoromethylsulfonyl)imide)) salt (Co(III) TFSI) were purchased from Lumtec. Methylammonium chloride (MACl) was purchased from Dyenamo. Formamidinium iodide (FAI), methylammonium bromide (MABr), and n-hexylammonium bromide were purchased from GreatCell Solar Materials. Lead iodide (PbI2) and lead bromide (PbBr2) were purchased from TCI America. Au pellets were purchased from Kurt J. Lesker. 
 Chemical Bath Deposition (CBD) of SnO2 layer The FTO substrate was cleaned by sonicating in Hellmanex solution, DI water, acetone, and IPA for 10 min each. The CBD solution was prepared by mixing 625 mg of urea, 625 μL of HCl, 12.5 μL of TGA, and 137.5 mg of SnCl2•2H2O per 50 mL of DI water. We noticed there is an obvious difference in solubility between low purity (>99.99%) and high purity (>99.995%) SnCl2•2H2O. When dissolved in DI water, prior to adding HCl, the reaction solution with low purity source stays murky while the high purity source dissolves completely to yield a transparent solution. Thus, we strongly suggest using the high purity source (>99.995%). One edge of the FTO substrate was taped with a kapton tape to prevent deposition of SnO2. The FTO substrates and the CBD solution were loaded onto a glass reaction vessel and reacted at 90 °C until the desired pH is reached. Specifically, we used a Hellendahl staining dish with the vessel volume of ~170 mL. Eight 1"x 1" FTO substrates were vertically placed inside the vessel and 50 mL of the CBD solution were added. The reaction vessel was placed inside a water bath set to a target temperature. The pH of the reaction solution was monitored and the reaction was ended by removing the substrate at the target pH. It took 4 hrs to reach pH 1.5, 6hrs to reach pH 3, and 7 hrs to reach pH 6. The pH was measured after the solution cooled down to room temperature. After the reaction is complete, the SnO2 deposited FTO substrate was removed from the reaction vessel and cleaned via sonication with DI water and IPA for 5min each. Figure  2e  shows the progress of the synthesis of SnO2 via CBD. At the early stage of the reaction (Stage A-i), the SnO2 layer does not fully cover the underlying FTO layer and poor film coverage with shallow valence band results in inefficient hole blocking capability, leading to detrimental interface recombination and poor device performance. When the reaction reaches Stage A-ii, high quality SnO2 layer forms a compact and conformal film, providing sufficient coverage of the underlying TCO. The ideal morphology and chemical composition of SnO2 ETL during Stage A-ii leads to an efficient extraction of the charge carrier from the perovskite layer without energy loss through non-radiative pathways, supported by high FF and VOC, and ultimately the PCE. When the reaction continues past this "magic region", the SnO2 layer contains unwanted site defects, as a form of oxygen vacancy, (Stage A-iii) and further the formation of secondary crystal phases (Stage B) inhibit efficient charge extraction and transport.  1, 2  Our results show that careful engineering of the intrinsic and extrinsic properties of the ETL film, such as satisfying the coverage needed to prevent interfacial recombination, and suppressing the formation of detrimental defects, along with suppressing the formation of secondary crystal phases, is crucial for fabricating high performance PSCs. 
 Device fabrication The FTO/SnO2 substrate was annealed in an ambient environment (RH 15-30%) at 170 °C for 60 min, followed by spincoating10 mM KCl in DI water at 3000 rpm for 30 sec (2000 rpm ramp) and annealing at 100 °C for 10 min. All SnO2 layers were equally treated with an aqueous solution of potassium chloride as such salts have been reported to reduce hysteresis, interface recombination, and improve luminescence.  [3] [4] [5]  Before perovskite deposition, the FTO/SnO2 substrate was oxygen plasma treated and pumped inside a nitrogen glovebo x. We used a FA-based perovskite composition with excess PbI2 stoichiometry (9 mol%), due to its positive effect in enhancing device performance  6, 7  , and with MACl as an additive, due to its role in stabilizing the intermediate phase and enhancing perovskite orientation.  8, 9  The perovskite solution was prepared by mixing 1.53 M PbI2, 1.4 M FAI, 0.5 M MACl, and 0.0122 M (0.8 mol%)-0.153 M (10 mol%) MAPbBr3 in DMF:DMSO=8:1. The perovskite solution deposited via spin coating at 1000 rpm for 10 sec, and 5000 rpm for 30 sec (both 2000 rpm ramp). 10 seconds into the 5000 rpm setting, 600 μL of diethyl ether solution was deposited onto the substrate. Afterwards, the FTO/SnO2/perovskite substrate was annealed at 100 °C for 60 min. For the 2D perovskite passivation, 10 mM of alkylammonium bromide was deposited at 3000 rpm for 30 sec and annealed at 100 °C for 5 min.  
 Device Characterization Current density-voltage (J-V) curves were recorded using a solar simulator (Newport, Oriel Class AAA, 91195A) and a source meter (Keithley 2420). The illumination was set to AM 1.5G and calibrated to 100 mW/cm 2 using a calibrated silicon reference cell. The step voltage was 10 mV and the delay time was 50 ms. The active area was controlled by using a dark mask with a defined aperture. Long-term stability (Supplementary Figure  23 ) was performed by tracking the maximum power point (MPP) under continuous illumination (Newport, Oriel Class ABA, 94062A, AM 1.5G, 100 mW/cm 2 ), in a nitrogen environment. Our long-term stability follows ISOS-L-1I testing protocol (Light source: solar simulator, temperature: ambient, rel. humidity: ambient, environment/set-up: lightly only, characterization light source: solar simulator, Load: MPP). The stability test was performed without active cooling and the device temperature is measured to be ~45 °C.  10  Scanning Electron Microscope (SEM) and X-ray Diffraction (XRD) The SEM images were recorded using a Zeiss Merlin High-resolution SEM and the XRD patterns were collected using a Rigaku SmartLab and a Bruker D8 Discovery Diffractometer with a General Area Detector Diffraction System. 
 Cyclic Voltammetry (CV) CV measurement was performed using potentiostat (AUTOLAB PGSTAT 302N, Metrohm Autolab) with 0.1V/s of scan rate in a three-electrode configuration using a saturated calomel electrode (SCE) as reference electrode, Pt counter electrode, and the synthesized films as working electrode under dark condition. 0.5 M KCl aqueous solution added 0.5 mM potassium ferricyanide and 0.5 mM potassium hexacyano-ferrate was used as the electrolyte. 
 UVVis and photoluminescence measurement UVVis was recorded using Cary UV-Vis-NIR spectrophotometer. The PL was recorded using a SpectraPro monochromator and PIXIS CCD from Princeton Instruments with 532 nm exciation using a laser diode from Thorlabs. 
 Electroluminescence (EL) Characterization The devices were encapsulated and the EL was measured under ambient conditions in the dark. The device was voltage driven, and the current was measured simultaneously by a Keithley 2636A sourcemeter. The photocurrent was collected using a calibrated Newport 818-UV/DB Silicon photodetector coupled to a Newport 1835-C Multifunction Optical meter. EL spectra are collected using an Ocean Optics USB 2000 spectrometer using a multimode fiber positioned over the center of the active area. The I-V-Photocurrent sweep was run by a custom Labview code with the sweep rate of 5 mV/s. 
 Transient photovoltage (TPV) and photocurrent (TPC) The photovoltaic devices were electrically connected to a digital oscilloscope (500 MHz, DSO-X 3054A, Agilent) with BNC cables. To obtain charge decay time of open-circuit and charge extraction time of short-circuit, the input impedance of oscilloscope was set to be 1 MΩ and 50 Ω for open circuit condition and short circuit condition, respectively. The TPV and TPC were measured under 0.346 Sun illumination by light source of Xe lamp (Zolix, 150W), and were taken using a nanosecond laser of the 532 nm excitation (EKSPLA, NT342A-10) as a small perturbation. 
 Time Resolved Photoluminescence Time resolved photoluminescence lifetimes were collected using a 532 nm picosecond pulsed diode laser (Picoquant; LDH-P-FA-530-B) adjusted the repetition rate using a pulse generator (Stanford Research; DG535). The excitation power was adjusted using neutral density filters and focused to a spot size of ~100 μm in diameter. The emission from the film was collected and collimated using an off-axis parabolic mirror (Thorlabs; MPD269V) and measured with a silicon single-photon avalanche diode (SPAD) detector (Micro Photon Devices; $PD-100-C0C). Scattered laser excitation was suppressed using a 532 nm notch filter (Chroma; ZET532NF) and a 550 nm longpass filter (Thorlabs; FELH0550). The 532 nm laser harmonic was suppressed using a 900 nm shortpass filter (Thorlabs; FESH0900). Photon arrival times were recorded using a time-correlated single photon counting card (Picoquant; PicoHarp 300) and all analysis was performed in Matlab. The carrier density was 1.125×10 15 cm -3 . Optical Pump -THz Probe (OPTP) Spectroscopy. The perovskite thin films for OPTP was prepared by using 0.5 M concentration with same spin coating parameters. The time-resolved optical pump and THz probe spectroscopy was performed by utilizing 100-fs laser pulses generated from a 1-kHz Ti:sapphire regenerative amplifier (Spitfire Ace Pro, Spectra Physics) operating at 800 nm. Optical pump pulses at 400 nm were achieved by second harmonic generation in a beta barium borate (BBO) crystal, whereas THz pulses serving as the probe beam were generated by optical rectification in a 2-mm-thick ZnTe crystal and detected by electro-optic sampling method. The pump-induced THz transmission changes were then measured by using a lock-in-Amplifier (SR830, Stanford Research Systems) depending on the time delay between the pump and probe beams controlled by a motorized stage, while the 400-nm pump pulses were modulated at 190 Hz by the optical chopper. All the measurements were performed under 2% humidity by purging the entire THz beam path with dry air. Supplementary Figure  15 .   Metal halide perovskite solar cells (PSCs) are an emerging photovoltaic technology with the potential to disrupt the mature silicon solar cell market. Great improvements in device performance over the past few years, thanks to the development of fabrication protocols  [1] [2] [3]  , chemical compositions  4, 5  and phase stabilization methods  [6] [7] [8] [9] [10]  , have made PSCs one of the most efficient and low-cost solutionprocessable photovoltaic technologies. However, the light-harvesting performance of these devices is still limited by excessive charge carrier recombination. Despite much effort, the performance of the best-performing PSCs is capped by relatively low fill factors and high open-circuit voltage deficits (the radiative open-circuit voltage limit minus the high open-circuit voltage)  11  . Improvements in charge carrier management, which is closely tied to the fill factor and the open-circuit voltage, thus provide a path towards increasing the device performance of PSCs, and reaching their theoretical efficiency limit  12  . Here we report a holistic approach to improving the performance of PSCs through enhanced charge carrier management. First, we develop an electron transport layer with an ideal film coverage, thickness and composition by tuning the chemical bath deposition of tin dioxide (SnO 2 ). Second, we decouple the passivation strategy between the bulk and the interface, leading to improved properties, while minimizing the bandgap penalty. In forward bias, our devices exhibit an electroluminescence external quantum efficiency of up to 17.2 per cent and an electroluminescence energy conversion efficiency of up to 21.6 per cent. As solar cells, they achieve a certified power conversion efficiency of 25.2 per cent, corresponding to 80.5 per cent of the thermodynamic limit of its bandgap. SnO 2 -based electron transport layers (ETLs) offer favourable band alignment, while being processable at low temperature  [13] [14] [15] [16] [17] [18]  . Of the various deposition methods, SnO 2 nanoparticle-based ETLs have demonstrated the best performances thus far. However, SnO 2 nanoparticle-based PSCs exhibit relatively low electroluminescence external quantum efficiency (EQE) values, and hence higher open-circuit voltage (V OC ) deficits (defined as the radiative V OC limit minus the high V OC ), compared to TiO 2 -based PSCs 8 , in spite of efforts to eliminate non-radiative recombination pathways  19  . The electroluminescence EQE of a photovoltaic device, determined by measuring the luminescence efficiency under forward bias, is a direct measure of the radiative efficiency of carrier recombination. The electroluminescence EQE can be used to quantify the non-radiative contribution to the V OC deficit via the reciprocity theorem, and is a useful metric for solar cell characterization  11, 20  . Thus, it is crucial to develop strategies that minimize photovoltage losses at the ETL/perovskite interface so as to minimize the V OC deficit, encouraging the search for a different deposition method that can develop the full potential of SnO 2 ETLs. The ideal SnO 2 ETL will generate a high photovoltage and fill factor by having complete and conformal coverage without pinholes, an ideal band alignment to efficiently extract electrons while blocking hole back-transfer, a low defect density to prevent detrimental interface recombinations, and will also be thin enough to promote efficient charge extraction  21  . (3-J) Sharp (3-J) Sharp (3-J) NREL Spectrolab (3-J) 39.5% NREL (6-J) Boeing- Spectrolab (5-J) NREL/ Spectrolab (3-J) Spectrolab (3-J) Spectrolab (3-J) Boeing- Spectrolab (3-J) Boeing- Spectrolab (3-J) Boeing- Spectrolab (3-J) Boeing-Spectrolab (3-J, 240x) Boeing-Spectrolab (3-J,179x) NREL (3-J) NREL (3-J) NREL (3-J, 325.7x) FhG-ISE (3-J, 454x) SpireSemicon (3-J, 406x) SolarJunc (3-J, 418x) SolarJunc (3-J, 942x) Sharp (3-J, 302x) Spectrolab (3-J, 299x) Boeing- Spectrolab (3-J, 364x) 47.6% Varian (2-J) No. Carolina State U. (2-J) Spire (2-J) NREL (2-J) NREL (4-J) FhG-ISE (4-J, 665x) NREL (6-J,143x) FhG-ISE/ Soitec (4-J) 
 III-V Multijunction Cells As a part of our holistic approach, we first report a facile method of chemically tuning the physical and electronic properties of the SnO 2 ETL via chemical bath deposition. Chemical bath deposition enables uniform and complete coverage of the underlying substrate by depositing a dense and conformal layer  22, 23  . However, a lack of understanding of the complex chemical reactions during SnO 2 chemical bath deposition has prevented the fabrication of highly efficient PSCs. We infer that the 
 Article Sn intermediate species during chemical bath deposition play a crucial part in the quality and the characteristics of the final SnO 2 layer. More specifically, we suggest that the formation of various Sn intermediate species depends on the decomposition pathway of the Sn 2+ precursor (SnCl 2 ), which depends on the pH of the reaction solution  [24] [25] [26]  . 
 Synthesis and characterization of SnO 2 Freshly prepared chemical bath deposition solutions exhibit pH <1 and the pH increases with longer reaction time as urea decomposes and releases OH -(Supplementary Fig.  1 ). We divide the changes in the thin film properties of the SnO 2 layer with reaction time into two main stages as shown in Fig.  1 . Stage A shows the growth of SnO 2 layer with planar morphologies. Within stage A, stage A-i at early reaction times is the most acidic (pH 1), followed by stage A-ii (pH 1.5) and stage A-iii (pH 3). Stage B is the final stage of the reaction with a distinct morphology of interconnected nanorods and has the highest pH of 6. Figure  1a -d shows scanning electron microscope (SEM) images of the SnO 2 layer deposited on top of a fluorine-doped tin oxide (FTO)-covered glass via chemical bath deposition. The top-right insets are magnified top-down SEM images, highlighting the roughness and surface morphology of the film, with the SnO 2 layer more clearly seen on top of a pyramid-shaped FTO domain. The insets on the bottom-right are cross-section transmission electron microscope (TEM) images. In the early stage of the reaction (stage A-i), which is when the pH of the reaction solution is still approximately 1, the SnO 2 layer is about 20 nm thick, conformal with the underlying FTO layer. With increasing reaction time, and thus an increase in the pH of the reaction solution, the size of the SnO 2 domain increases while forming a densely packed layer with thicknesses ranging from around 50 nm to around 100 nm (Fig.  1b, c ). When the reaction reaches stage B, the SnO 2 begins to grow into elongated rod-like morphologies (Fig.  1d ). The high-resolution TEM shown in Fig.  1b  (stage A-ii) shows a SnO 2 layer forming complete coverage with interconnected domains, even down to the sharp valleys within the FTO layer (Fig.  1e ). The conformal and complete SnO 2 coverage is further confirmed by cyclic voltammetry, which shows that the films have robust hole-blocking capabilities when reacted past stage A-ii, or pH 1.5 (Supplementary Fig.  2 ), whereas stage A-i SnO 2 is inefficient at hole blocking. The lattice fringes in Fig.  1f   pure phase, whereas films prepared by allowing the reaction solution to reach stage B contain secondary phases, such as Sn 6 O 4 (OH) 4 and SnO (Fig.  1g ). 
 SnO 2 synthesis mechanism From the experimental results, we classify the reaction progress into four parts (Fig.  1h ). At the beginning of the reaction (stages A-i and A-ii, pH = 1-1.5), the dominant product of the chemical bath deposition reaction is SnO 2. As the reaction progresses to stage A-iii, owing to a sharp decrease in oxygen dissolved in the reaction solution, incomplete oxidation of Sn 2+ to Sn 4+ is highly likely (Supplementary Fig.  3 ). This leads to dominant production of SnO 2-x, 0<x<2 (ref.  24  ). In addition, the chemical bath deposition solution turns murky around this reaction stage, owing to the formation of insoluble amorphous tin oxide species (inset in Fig.  1h )  24  . When the reaction reaches stage B, oxygen-deficient SnO 2-x is joined by Sn 6 O 4 (OH) 4 and SnO, which are produced as secondary phases (red precipitate shown in the inset), as observed from the X-ray diffraction data (Fig.  1g  and Supplementary Fig.  4 ). We propose a synthesis mechanism during the chemical bath deposition growth of SnO 2 in Fig.  1i . In stage A, the Sn 2+ ions dissolved in strong acidic aqueous solution undergo a hydrolysis reaction, and form Sn(OH) + intermediate species. Sn(OH) + is then oxidized to Sn 4+ by the dissolved oxygen in the solution  24  . The Sn 4+ ions then react with OH - ions, provided by the decomposition of urea, to form Sn(OH) 4 species, which are converted to SnO 2 via a dehydration reaction (top branch in Fig.  1i )  24, 27  . However, Sn 2+ ions from Sn(OH) + can then be readily incorporated into the SnO 2 lattice owing to the comparable ionic radii of Sn 2+ (0.62 Å) and Sn 4+ (0.69 Å) for hexa-coordinated Sn species (middle branch in Fig.  1i )  [28] [29] [30]    
 Article which is synthesized in stage A-iii, as a result of a sharp decrease in oxygen dissolved in the reaction solution. When the reaction reaches stage B, a different Sn intermediate species, Sn 3 (OH) 4 2+ , forms in the reaction  25, 31     25, 26, 32  ). The Sn 6 O 4 (OH) 4 is then partially transformed to SnO via a dehydration reaction, producing a mixture of Sn 6 O 4 (OH) 4 and SnO (bottom branch in Fig.  1i ), consistent with the X-ray diffraction results  26, 33  . 
 SnO 2 ETL-based PSCs We fabricated a series of PSCs up to different stages for the growth of the SnO 2 layer to evaluate device performance (Fig.  2 ). PSCs with stage A-i SnO 2 show an average efficiency of about 20% with a relatively wide power conversion efficiency (PCE) distribution (Fig.  2a ). A noticeable improvement in device performance is observed for stage A-ii SnO 2 , where the PCE exceeds 24%, with the greatest improvements in V OC and fill factor (Supplementary Fig.  5 ). These devices show a stabilized power output of up to 24.5% with a certified quasi-steady state PCE up to 24.2% (Fig.  2b  and Supplementary Figs.  6 7 8 9 ). We attribute this substantial advancement in device performance to complete and conformal coverage of the SnO 2 layer, which prevents interfacial recombination. In contrast, when the reaction reaches stage A-iii, we observe a noticeable drop in device performance, with the greatest contribution from lower fill factor and V OC values despite complete film coverage and no detectable non-SnO 2 phases. To understand this device result, we performed time-resolved photoluminescence and transient photovoltage measurements to probe the interaction between the SnO 2 layers (stages A-ii and A-iii) and the perovskite active layer carefully (Fig.  2c, d ). Defects within a solar cell act as a carrier trap sites where the energy is lost through non-radiative recombination pathways. Thus, an ideal solar cell should be free from such trap sites. We performed time-resolved photoluminescence measurements because detrimental interfacial trap states lead to reduced carrier lifetimes. The time-resolved photoluminescence results show a much shorter carrier lifetime for stage A-iii SnO 2 than for stage A-ii samples, indicating an increase in non-radiative interfacial recombination between SnO 2 and perovskite, and thus leading to lower photovoltage and fill factor. From transient photovoltage measurements, we confirmed much longer decay times in stage A-ii devices than in stage A-iii PSCs, which further indicates reduced non-radiative pathways for stage A-ii SnO 2 -based devices. Inferior device performance for stage A-iii SnO 2 devices is the result of reduced carrier lifetime, where the increase in defects in the SnO 2 layer is responsible for an increase in non-radiative recombination where the position of the δ-phase is displayed as the dotted line and the diffraction peaks that corresponds to the δ-phase is highlighted in yellow. The perovskite thin film without any MAPbBr 3 (0 mol%) shows detectable amount of δ-phase. d, Time-resolved photoluminescence traces for perovskite thin films with decreasing amounts of added MAPbBr 3 . Carrier lifetimes τ are obtained from a mono-exponential fit. e, Effective mobility for perovskite thin films determined from optical pump-terahertz probe measurements (error bars show one standard deviation). pathways. In metal oxide thin films, oxygen vacancies act as site defects; their negative effects are especially important in films composed of tiny domains with high surface areas, such as in our SnO 2 films synthesized via chemical bath deposition. Both X-ray photoelectron spectroscopy and ultraviolet-visible absorption spectroscopy suggest higher concentrations of defects for stage A-iii SnO 2 , as a form of oxygen vacancy, shown by the shift of the Sn 3d 5/2 state towards lower binding energy (Supplementary Fig.  10a )  28, 30, [34] [35] [36]  , gradual increase in absorptivity in the ultravioletblue wavelength range (Supplementary Fig.  10b ), and higher Raman signal (Supplementary Fig.  11 ). The uncontrolled formation of defects in stage A-iii SnO 2 films not only increases charge recombination at the SnO 2 /perovskite interface, but also limits electron transport through SnO 2 nanodomains (Supplementary Fig.  12 ). On the other hand, the suppressed formation of surface defects for stage A-ii SnO 2 films is critical for realizing high fill factor and a low V OC deficit, along with appropriate surface coverage (Supplementary Fig.  13 ). In addition, the ETL needs to have a deep relative valence band in order to efficiently prevent hole quenching at the ETL/perovskite interface. Ultraviolet photoelectron spectroscopy shows that the deepest valence band is achieved during stage A-ii (Supplementary Fig.  14 ). This further supports the reduction of charge recombination in the device and thus the high efficiency observed for PSCs fabricated using stage A-ii SnO 2 (ref.  37  ). Lastly, the PSCs with stage B SnO 2 show the lowest PCE, probably owing to the formation of non-SnO 2-x phases, such as Sn 6 O 4 (OH) 4 and SnO, which are not electron-transporting, along with overproduction of oxygen vacancies in the SnO 2 layer. The overall understanding of the chemistry during the synthesis of SnO 2 via chemical bath deposition is illustrated in Fig.  2e  (see Methods for a detailed discussion). 
 Effect of the MAPbBr 3 additive In addition to engineering the physical and electrical properties of the ETL, further improvements in PSC performance can be achieved by improving the optoelectronic properties of the perovskite active layer. An ideal active layer should present a high absorption profile to maximize carrier generation with long carrier lifetimes and mobilities for efficient carrier collection. This requires developing strategies to improve crystal grain size and carrier lifetime, while preventing the formation of detrimental traps at the bulk and interfaces. Notably, improving the efficiency of PSCs requires the decoupling of the passivation strategies for the bulk and the interface because the type and concentration of defects affect them differently. In the second part of our holistic approach, we show that only a trace amount of methylammonium lead bromide (MAPbBr 3 ) (<1 mol%) is needed to stabilize the perovskite active layer, with the benefit of improved optoelectronic properties. Figure  3  shows the characterization of perovskite thin films passivated with a two-dimensional perovskite, with the bulk perovskite fabricated with the addition of various amounts of MAPbBr 3 . An increase in grain size with decreasing amounts of MAPbBr 3 is clear in the SEM images of Fig.  3a . The correlation suggests that MAPbBr 3 arrests perovskite grain growth, probably owing to the slow diffusion of the large bromide anion  38  in a perovskite thin film fabricated with methylammonium chloride (MACl) additives, where MACl has been reported to promote perovskite crystal grain growth. In addition to changes in grain size and morphology, the absorption onset and the photoluminescence peak redshifts are consistent with decreased incorporation of MAPbBr 3 into the perovskite crystal as lower amounts of MAPbBr 3 are added (Fig.  3b ). Notably, X-ray diffraction  
 Article analysis shows successful passivation of the perovskite active layer from the detrimental formamidinium lead iodide (δ-FAPbI 3 ) phase with a MAPbBr 3 concentration as low as 0.8 mol% (Fig.  3c )  39, 40  . Such a low concentration is in contrast to the commonly used range of 7-20 mol%, which was established through processes that passivate both the bulk and the interface in one step. We believe stabilization of the intermediate phase, before thermal annealing, is responsible for successful stabilization of α-FAPbI 3 even at such a low MAPbBr 3 concentration (Supplementary Figs. 15, 16). The two-dimensional perovskite passivation we used is thus shown to be effective in stabilizing the interface, which is prone to the formation of defects and the unfavourable δ-phase  8, 41  . Carrier lifetimes can be determined through fitting the time-resolved photoluminescence decays to a mono-exponential function (Fig.  3d ). Films with MAPbBr 3 added below 2.5 mol% show substantially longer carrier lifetimes than the 10 mol% sample, with the longest carrier lifetime observed in the 0.8 mol% sample (>3.6 μs). Carrier lifetimes in the microsecond range suggest that there are few non-radiative pathways and such long carrier lifetimes can lead to high V OC . We attribute the long carrier lifetimes to a combination of increased perovskite crystal grain size and successful passivation using the two-dimensional perovskite. Detrimental halide segregation, which is suspected to form carrier trap sites, is likely to be reduced at low MAPbBr 3 concentrations and this may also contribute to the increased carrier lifetimes  8, 42  . Carrier dynamics can be obtained using optical pump-terahertz probe spectroscopy, measuring transient photoconductivity (-ΔT/T) at different carrier densities (Fig.  3e  and Supplementary Fig.  17 ). With an increase in fluence, and thus an increase in carrier density, the -ΔT/T increases and the decay trace develops a fast component corresponding to increasing higher-order recombinations. An effective mobility can be calculated from the recombination dynamics measured by optical pump-terahertz probe measurements  43  . Figure  3e  plots effective mobilities as a function of the mole per cent added MAPbBr 3 . Interestingly, the effective mobility increases from 0 mol% to 2.5 mol% (26.8 cm 2 V -1 s -1 to 31.2 cm 2 V -1 s -1 ), before dropping down to 25.9 cm 2 V -1 s -1 for 10 mol%. Indeed, as we have observed for grain sizes (Fig.  3a ) and carrier lifetimes (Fig.  3d ), this low-concentration region can yield large changes in morphologies and carrier dynamics, which correlate with effective mobility. It is also possible that the perovskite crystal orientation, which is known to influence effective mobilities  44  , and homogenization of halides may also be affected at low concentrations of added MAPbBr 3 . Thus, through separately passivating the bulk (with extremely low amounts of MAPbBr 3 ) and the interface (with two-dimensional perovskite passivation 8 ), highly efficient PSCs can be fabricated by substantially reducing the MAPbBr 3 concentration, with the added benefit of reducing the bandgap penalty. 
 Solar cell and electroluminescence performance PSCs were fabricated by combining our newly developed SnO 2 ETL and the improved perovskite layer described above. These PSCs show an average PCE of 24.7%, with some devices exceeding a PCE of 25%, when measured in-house (blue data points, Fig.  4a ). The best performing devices were sent to the solar cell device testing facility in Newport, USA, for certification with the test results shown as the red data points in Fig.  4a . The best-performing device achieved a certified PCE of 25.2% from a quasi-steady-state measurement, with PCEs determined from the current-voltage (J-V) sweep to be 25.3% and 25.4% for the reverse and forward sweep, respectively (Fig.  4b  and Supplementary Figs. 18-21)   45  . In addition, the certified device showed almost no change in PCE during up to 3,600 h of storage (Supplementary Fig.  22 ). Additionally, the encapsulated device retained about 80% of its initial PCE after 500 h under continuous light illumination at maximum power point (100 mW cm -2 , AM1.5G, 45 °C), without an ultraviolet cut filter (Supplementary Fig.  23 ). We also fabricated PSCs with larger areas; our best-performing large-area cell (0.984 cm 2 ) exhibits PCEs up to 23.0% with a high V OC value of 1,196 mV (Fig.  4c ). The bandgap of this record cell, E g = 1.56 eV, was determined from the inflection point of the EQE curve (Supplementary Fig.  24 )  11  . This bandgap corresponds to a thermodynamic PCE upper limit of 31.3%. At 25.2% PCE, our best-performing certified cell is thus at 80.5% of the theoretical efficiency limit, which is comparable to the best Si solar cells, which are at 80.9% of the theoretical limit  46  . We attribute the high PCEs of our cells to major improvements in the V OC and the fill factor. The radiative V OC limit V OC rad is calculated to be 1.270 V and the V OC measured without an aperture mask reaches 1.225 V (Supplementary Fig.  25 )  6, 11, 47  , resulting in a ratio of V OC to the radiative V OC limit of up to 96.5%, which is the highest reported thus far for a PSC, and is within striking distance of that for GaAs (97.7%). Such a low V OC deficit suggests that almost all non-radiative recombination pathways have been efficiently eliminated and that these PSCs should be highly luminescent when operated as a light-emitting diode, as we find below. Figure  4d  shows a plot of the electroluminescence EQE and energy conversion efficiency (ECE) values versus voltage of a PSC measured under forward bias (the current-luminance-voltage curve is provided in Supplementary Fig.  26 ). We observe an electroluminescence EQE of up to 17.2%, which approaches the efficiency of the best-performing perovskite light-emitting diodes (LEDs), which are engineered specifically for efficient light emission  [48] [49] [50]  . In addition, due to early sub-bandgap turn-on, probably from thermal carriers, our PSCs exhibit a peak electroluminescence ECE of up to 21.6%. In addition to extremely low V OC loss and high luminescence efficiency, our devices exhibit a high fill factor of up to 84.8%. Such a high fill factor is a result of improved carrier mobility in the perovskite active layer and better charge collection with the SnO 2 ETL developed here with minimum parasitic losses from shunt and series resistances. For a further improvement in fill factor, future research should be focused on minimizing trap-assisted recombination, aiming to approach the theoretical fill factor limit of about 90%. 
 Online content Any methods, additional references, Nature Research reporting summaries, source data, extended data, supplementary information, acknowledgements, peer review information; details of author contributions and competing interests; and statements of data and code availability are available at  https://doi.org/10.1038/s41586-021-03285-w . The hole transporting layer (HTL) was deposited by preparing the HTL solution consisting of 50 mg of Spiro-OMeTAD, 19.5 µL of tBP, 5 µL of Co(III) TFSI solution (0.25 M in acetonitrile), 11.5 µL of Li-TFSI solution (1.8 M in acetonitrile), and 547 µL of chlorobenzene. 70 µL of the HTL solution was loaded onto the perovskite substrate and spin coated at 4000 rpm for 20 sec with the ramp of 2000 rpm/sec. The HTL solution preparation and deposition were performed inside a nitrogen glovebox. The Au electrode (100 nm) was deposited by thermal evaporation. 
 XRD pattern and photograph (inset) for three different samples immediately after anti-solvent treatment without any thermal annealing. The samples are: FAPbI3 with only MAPbBr3 (black trace), FAPbI3 with only MACl (red trace), and FAPbI3 with both MACl and MAPbBr3 added (blue trace). The concentration for MAPbBr3 is 0.8 mol% and 0.5 M for MACl. Only when a trace amount of MAPbBr3 is added along with MACl can we achieve an α-FAPbI3 stabilized intermediate phase. Peaks labeled as # correspond to intermediate phases. 
 (2-terminal, monolithic) LM = lattice matched MM = metamorphic IMM = inverted, metamorphic Two-, three-, and four-junction (concentrator) Three-junction or more (non-concentrator) Two-junction (non-concentrator) Efficient perovskite solar cells via improved carrier management Jason J. Yoo 1,8,9 , Gabkyung Seo 2,7,9 , Matthew R. Chua 3 , Tae Gwan Park 4 , Yongli Lu 1 , Fabian Rotermund 4 , Young-Ki Kim 5 , Chan Su Moon 2 , Nam Joong Jeon 2 , Juan-Pablo Correa-Baena 6 , Vladimir Bulović 3 , Seong Sik Shin 2 ✉ , Moungi G. Bawendi 1 ✉ & Jangwon Seo 2 ✉ 
 Fig. 1 | 1 Fig. 1 | Synthesis and characterization of tin oxide film on FTO. a-d, Top-view SEM images synthesized for increasing time, leading to an increased pH: a, stage A-i; b, stage A-ii; c, stage A-iii; and d, stage B. The top-right insets show a zoomed-in SEM and the bottom-right insets show the corresponding cross-sectional TEMs. e, f, High-resolution TEM images of films prepared up to stage A-ii (the inset in f shows a fast Fourier transform pattern of the TEM image). g, X-ray diffraction patterns of the SnO 2 layer at different reaction stages. a.u., arbitrary units. h, Schematic illustration of the reaction progress with photograph of the reaction solution at each stage. i, Schematic illustration of the overall reaction mechanism for the formation of the SnO 2 -based films. 
 Fig. 2 | 2 Photovoltage (normalized) 
 Fig. 3 | 3 Fig. 3 | Characterization of perovskite thin films varying the mole per cent of MAPbBr 3 added. a, SEM images of perovskite thin films with decreasing amounts of added MAPbBr 3 (from 10% to 0%). The scale bars are 1 μm. b, Ultraviolet-visible absorbance and photoluminescence spectra of perovskite thin films with various amounts of MAPbBr 3 added. c, X-ray diffraction of perovskite thin films with four different amounts of MAPbBr 3 added. The diffraction peaks for two-dimensional perovskite, PbI 2 and the (100) phase are shown. The bottom panel is the zoomed-in view of the top, 
 Fig. 4 | 4 Fig. 4 | Device result for best-performing PSCs with 0.8 mol% MAPbBr 3 . a, Statistical distribution represented in box-and-whisker plots (centre line: average, box limit: standard deviation, whiskers: outliers) for best-performing PSCs (0.0937 cm 2 active area defined by a mask aperture). Devices with high and stable PCEs were then encapsulated and antireflective films were applied before testing at Newport. The blue points show the PCE values measured in-house and the red points show the PCE values measured at Newport for certification purposes. b, J-V curves of the champion device measured at 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 . The Sn 3 (OH) 4 2+ intermediate species can undergo a condensation reaction when the pH is sufficiently high, resulting in Sn 6 O 4 (OH) 4 (refs.