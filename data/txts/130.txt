Paper #: 130
Oriented nucleation in formamidinium perovskite for photovoltaics
Investigating perovskite surface energy by DFT Calculations First-principles calculations were carried out using the VASP code 1,2  . A GGA type Perdew-Burke-Ernzerhof (PBE) 3,4  functional to define the exchange-correlation. Dispersion correction to the energy using Grimme's DFT-D3 scheme is included 5,6  . Projectoraugmented-wave (PAW) pseudopotentials 7 for all atoms were used for valence-core interactions. A high kinetic energy cutoff of 500 eV was chosen for the plane wave basis set expansion. A 10 -5 eV break condition were considered in the self-consistent field calculations. Atomic positions and cell shapes were allowed to relax using a conjugate gradient algorithm until all Hellman-Feynman forces are smaller than 0.02 eV/Å. A 4x4x1centered k-point mesh was chosen for Brillouin-zone sampling. 
 Supplementary Note 2 
 Investigating perovskite nucleation and growth by in-situ grazing-incidence x-ray diffraction In situ XRD is performed at the Advanced Light Source (ALS), at Lawrence Berkeley National Laboratory (LBNL) on beamline 12.3.2 using synchrotron x-ray beam with energy of 10keV and coupled with a homebuilt stage as shown in [Pratap et al., Acta Cryst.  (2019). A75, a155-156]. The angle between x-ray beam and sample is around 1°. The measurement time for each pattern is 1.818s and the signal is collected by a 2D Pilatus 1M detector (Dectris Ltd.). For the fabrication of perovskite film, the PbI2 solution was spincoated on the substrate at 1500 rpm for 40 s, and then, the FAI/PAd, FAI/BAd, FAI/PRd solution or FAI solution was spin-coated on the PbI2 film at 1800 rpm for 40 s (for simplification, the first-step and the second-step precursor was denoted as PbI2 solution and FAI solution respectively, and the exact composition followed the descriptions in the Method part), followed by pre-annealing at 90 °C for 1 min and 150 °C for 10 min with 40% humidity. The signal was captured upon dropping the IPA solution so that the crystallization process during the spin-coating can be monitored. Springer Nature or its licensor (e.g. a society or other partner) holds exclusive rights to this article under a publishing agreement with the author(s) or other rightsholder(s); author self-archiving of the accepted manuscript version of this article is solely governed by the terms of such publishing agreement and applicable law.
The surfaces were modeled by a periodic slab consisting of perovskite layers, separated by at least 15-20 Å of vacuum in the surface normal direction. To calculate the surface energy of the slabs along 100 and 111 of FAPbI3 with and without the organic amidinium cations (PAd, BAd, and PRd) we considered the following method. We first calculate the cleavage energy of the clean surface generated from the bulk FAPbI3 𝜎 𝑐𝑙𝑣 = 1 2 [𝐺 𝑠𝑙𝑎𝑏 𝑢𝑟𝑙 -𝑁𝐺 𝑏𝑢𝑙𝑘 + ∑ 𝑛 𝑖 𝜇 𝑖 ] 𝑖 . Here, 𝐺 𝑠𝑙𝑎𝑏 𝑢𝑟𝑙 is the energy of the unrelaxed slab, 𝐺 𝑏𝑢𝑙𝑘 = 𝜇 𝐹𝐴 + 𝜇 𝑃𝑏 + 3𝜇 𝐼 is the energy per unit formula of the bulk FAPbI3. 𝜇 𝐹𝐴 , 𝜇 𝑃𝑏 and 𝜇 𝐼 are the chemical potentials of FA, Pb and I, respectively. 𝑛 𝑖 is the number of FA, Pb and I appropriately removed from or added to the reservoir to create the slab. The relaxation energy of the cleaved surface is then calculated from 𝜎 𝑟𝑙𝑥 = 𝐺 𝑠𝑙𝑎𝑏 𝑟𝑙𝑥 -𝐺 𝑠𝑙𝑎𝑏 𝑢𝑟𝑙 , where 𝐺 𝑠𝑙𝑎𝑏 𝑟𝑙𝑥 is the energy of the relaxed perovskite slab. Surface energy is calculated from 𝛾 = (𝜎 𝑟𝑙𝑥 + 𝜎 𝑐𝑙𝑣 )/𝐴, where 𝐴 is the area of the slab surface. For the case of slabs with molecular cations, we first cleaved the perovskite, to generate the slab, and incorporated the cation over the surface and then relaxed the cation over the surface while fixing the atomic positions of the slab. We later performed a full relaxation over the relaxed-cation and slab system to calculate the relaxation energy and then the surface energy. Supplementary Fig.  10  showed the slabs for perovskite (100) and (111) planes with PAd, and the reduction in their surface energies compared with the control. Supplementary Fig.  15  | Box plots showing the distribution of the PCEs for perovskite devices fabricated with PRd, BAd, PAd and the control. Centre line, median; box limits, 25 th and 75 th percentiles; whiskers, outliers. Notes: In this case, the width of P2 lines and P3 lines was 200 μm and 100 μm respectively, and the geometric fill factor (GFF) was around 0.90. The black phase of formamidinium lead iodide (FAPbI 3 ) perovskite shows huge promise as an efficient photovoltaic, but it is not favoured energetically at room temperature, meaning that the undesirable yellow phases are always present alongside it during crystallization  [1] [2] [3] [4]  . This problem has made it difficult to formulate the fast crystallization process of perovskite and develop guidelines governing the formation of black-phase FAPbI 3 (refs. 5,6). Here we use in situ monitoring of the perovskite crystallization process to report an oriented nucleation mechanism that can help to avoid the presence of undesirable phases and improve the performance of photovoltaic devices in different film-processing scenarios. The resulting device has a demonstrated power-conversion efficiency of 25.4% (certified 25.0%) and the module, which has an area of 27.83 cm 2 , has achieved an impressive certified aperture efficiency of 21.4%. 
 Supplementary 
 Oriented nucleation in formamidinium perovskite for photovoltaics Pengju FAPbI 3 has an impressive bandgap and thermal resistance, and has therefore emerged as the most promising candidate perovskite for use as a photovoltaic device  [1] [2] [3] 7, 8  . However, the photoactive black phase of FAPbI 3 is not energetically favoured at room temperature  4, 9, 10  . Polytype formation and the presence of other intermediate non-photoactive phases can readily occur, which undermines its photovoltaic performance. Several approaches have been developed to promote the formation of black-phase FAPbI 3 at room temperature, such as adduct formation with PbI 2 and solvent engineering using ionic liquids  11, 12  . Unfortunately, the fast crystallization kinetics of FAPbI 3 perovskites precludes in-depth investigations of its film-formation processes  5, 6  . The microscale mechanism of its phase evolution during crystallization has yet to be unambiguously defined  13, 14  . This lack of information has hampered the development of more-rational and targeted design of film-processing methods for efficient FAPbI 3 perovskite absorbers, especially for different film-processing scenarios, such as one-step and two-step film-deposition protocols and small-and large-area devices  [15] [16] [17] [18]  . A strategy to promote the formation of black-phase FAPbI 3 in one processing scenario usually fails when applied to other situations. In this study we observed an oriented nucleation mechanism that originated from the reduced surface energy of a specific crystallographic plane, and this enabled us to avoid the yellow phase of FAPbI 3 and governed the formation of black-phase FAPbI 3 . We verified the mechanism for different film-deposition methods and found it could be applied to improve the performance of both small-area devices and solar modules. In a two-step deposition protocol for perovskite films, in which the PbI 2 and organo-halide precursors were deposited sequentially, intermediate non-photoactive phases were always observed at room temperature. The X-ray diffraction (XRD) patterns of the deposited perovskite film at room temperature showed diffraction peaks corresponding to the (100) planes of the black phase, accompanied by diffraction peaks of the the hexagonal perovskite polytype 2H and 6H intermediate phases (Fig.  1a ). When pentanamidine hydrochloride (PAD) was incorporated in the precursor of the organic cations, the intermediate phases were eliminated. Density-functional theory calculations and Fourier transform infrared (FTIR) spectroscopy were used to investigate how PAD interacts with the Pb-I framework. As modelled in Fig.  1b , the positively charged amidinium head of PAD was able to anchor into the octahedral cavity of the black-phase perovskite by means of electrostatic and hydrogen-bonding interactions. Peak shifts of the C=N and N-H vibration could be seen in the FTIR spectra of PAD after mixing with PbI 2 , confirming the strong interaction between PAD and the Pb-I framework through the amidinium unit (Extended Data Fig.  1 ). This interaction exposed the hydrophobic alkyl chain of PAD such that it was stacked in an ordered manner on the black-phase perovskite (100) plane. As a result, compared with the other planes, the surface energy of the perovskite (100) plane was decreased the most (it fell by 64% from 3.16 to 1.14 eV) when the plane was terminated by PAD (see Supplementary Note 1 for details of the calculation and the variations in surface energy of different crystallographic planes). The and Westlake Institute for Advanced Study, Westlake University, Hangzhou, China.  3  Institute of Chemical Sciences and Engineering, École Polytechnique Fédérale de Lausanne, EPFL VALAIS, Sion, Switzerland.  4  Beijing Key Laboratory of Novel Thin-Film Solar Cells, North China Electric Power University, Beijing, China.  5  Department of Materials Science and Engineering and California NanoSystems Institute, University of California Los Angeles, Los Angeles, CA, USA.  6  Molecular Foundry, Lawrence Berkeley National Laboratory, Berkeley, CA, USA.  7  Department of Physics, Marmara University, Istanbul, Turkey.  8  Laboratory of Advanced Materials, Department of Chemistry, Fudan University, Shanghai, China.  9  Instrumentation and Service Center for Molecular Sciences, Westlake University, Hangzhou, China.  10  Advanced Light Source, Lawrence Berkeley National Laboratory, Berkeley, CA, USA.  11  Research Center for Industries of the Future, Westlake University, Hangzhou, China.  12  Division of Solar Energy Conversion and Catalysis at Westlake University, Zhejiang Baima Lake Laboratory Co., Ltd, Hangzhou, China.  13  These authors contributed equally: Pengju Shi, Yong Ding, Bin Ding, Qiyu Xing. ✉ e-mail: jjxue@zju.edu.cn; mdkhaja.nazeeruddin@epfl.ch; yangy@ucla.edu; wangrui@westlake.edu.cn configuration of this interaction was corroborated by the formation of a two-dimensional perovskite phase, characterized by XRD of the perovskite film fabricated with PAD (Supplementary Fig.  1 ). The reduced dimension of the perovskite phase evidenced the extremely low surface energy of the (100) plane. This thermodynamic driving force led to the preferential formation of the (100) orientation of black-phase perovskite, which determined the crystallization texture and promoted the formation of black-phase perovskite crystals. By contrast, the relatively even energy profile of the phase transformation process without PAD resulted in the coexistence of several phases and orientations (Fig.  1c ). We used synchrotron-based multimodal in situ probes to analyse the crystallization of perovskites from the precursors and to verify the oriented nucleation mechanism. The details of the measurements and film-processing procedures are shown in Supplementary Note 2. In situ grazing-incidence X-ray diffraction (GIXRD) measurements revealed that the perovskite nucleated when the formamidinium iodide solution was dropped onto pre-deposited PbI 2 ; this could be seen by the emergence of the perovskite (100) diffraction peak (Fig.  2a ). During the spin-coating process, the peak intensity of the (100) plane gradually increased, which we describe as a nucleation stage in which the disappearance, formation and growth of the nuclei take place concurrently. The subsequent annealing step led to a rapid rise in the intensity of the (100) peak, indicating a fast crystal growth process. During the nucleation stage, the control perovskite film showed diffraction peaks corresponding to multiple intermediate phases, whereas the film using PAD featured a clean (100) diffraction pattern of black-phase perovskite. This finding indicates that incorporating PAD suppressed the formation of yellow phases from the start of the nucleation process. Notably, the control film had a faster increase in the (100) peak intensity during the nucleation stage than that with PAD, indicating that PAD led to delayed nucleation kinetics. This slower nucleation may be attributed to the strong interaction of PAD with the Pb-I framework, because the formamidinium had to compete with PAD to interact with the Pb-I, slowing down the reaction. The in situ azimuth angle mapping was extracted from the GIXRD patterns of the perovskite (100) plane during the nucleation stage (Fig.  2b ). The azimuth angle showed a broad distribution ranging approximately from 60° to 120°, indicating that the control sample had a fairly random crystallographic orientation. However, a sharp peak centred at the azimuth angle of 90° was observed when PAD was incorporated, and the half-peak width remained as small as around 8°. These findings verified that there is a nucleation stage with a preferred out-of-plane orientation along the (100) facet, which we described as an oriented nucleation mechanism. We studied the proposed mechanism further by varying the length of the alkyl chain attached to the organic amidinium cation, thereby modulating the effect on the surface energy. Butylamidine hydrochloride (BAD) and propionamidine hydrochloride (PRD), which have shorter alkyl chains than PAD, were investigated. Calculations based on density-functional theory revealed an increase in the surface energy of the perovskite (100) plane as the alkyl chain became shorter (Extended Data Fig.  2 ). The (100) plane that terminated with PRD, BAD or PAD, which featured an increasingly elongated and exposed organic tail and thus increased hydrophobicity, had a calculated surface energy of 1.57, 1.20 and 1.14 eV nm -2 , respectively. In situ GIXRD measurements revealed that both BAD and PRD suppressed the formation of intermediate photo-inactive phases during the nucleation stage (Extended Data Fig.  3 ). However, the in situ azimuth angle mapped during the nucleation stage demonstrated different levels of oriented nucleation as the surface energy varied (Extended Data Fig.  4 ). Because adding PAD provided the lowest surface energy of the perovskite (100) plane, it induced the most-oriented nucleation of the three additives. Despite the ability of BAD and PRD to induce more-oriented nucleation than the control sample, they resulted in broader azimuth-angle distributions than did PAD. These observations demonstrated that the oriented nucleation and the promoted formation of black-phase perovskite were governed by the surface energy of perovskite (100) plane. In situ photoluminescence measurements provided further evidence of the sluggish nucleation kinetics. The evolution of the photoluminescence spectra of the perovskite films during the nucleation stage is shown in Fig.  2c . Without PAD, a photoluminescence peak at 770 nm rose rapidly, which we attribute to the photoactive perovskite phase. With PAD in the precursor solution, the photoluminescence peak appeared at 760 nm with delayed kinetics. The slight blue-shift in the photoluminescence peak could be attributed to the smaller size of the nuclei, which could either lead to compressive lattice strain or induce stronger quantum confinement (Extended Data Fig.  5 ). This in turn provided evidence of the slower nucleation kinetics in perovskite films with PAD. Sluggish nucleation kinetics were also observed for BAD and PRD (Extended Data Fig.  6 ), but to a lesser extent than for PAD, further confirming the important role of surface energy in regulating the crystallization. The strong interaction between the inorganic framework of the perovskite and the PAD cation lowered the surface energy of the (100) plane, leading to slower nucleation kinetics with preferred crystallographic orientation. This oriented nucleation mechanism governed the subsequent crystal growth step, which also followed the preferred orientation along the (100) facet  19  (Supplementary Fig.  2 ). The resulting perovskite film exhibited higher crystallinity and conductivity, as indicated by the increased intensity of the XRD patterns and by conductive atomic-force-microscopy measurements, respectively (Supplementary Figs.  3  and 4 ). The film also had larger grain sizes as a result of the slower nucleation (Supplementary Fig.  5 ). The enhanced photoluminescence intensity and prolonged photoluminescence lifetime of the PAD-based perovskite film indicated that there were fewer non-radiative recombination sites (Extended Data Fig.  7 ). We investigated the incorporation of PAD in a one-step deposition protocol and observed the elimination of the yellow phase. As revealed by the in situ XRD measurements, a mixture of intermediate phases appeared with the black-phase perovskite during crystallization in the absence of PAD (Fig.  3a ). By contrast, incorporating PAD eliminated all the intermediate phases, leading to a single diffraction feature apparent from the (100) plane of black-phase perovskite (Fig.  3b ). In situ photoluminescence measurements of the perovskite films with and without PAD were performed (Supplementary Note 3). The evolution profiles of the photoluminescence peak positions and photoluminescence intensity with time are shown in Fig.  3c, d , respectively. In the control sample, we observed a turning point (highlighted by the red dashed area in Fig.  3c, d ) in the evolution profile of the photoluminescence peak position, which coincides with fluctuations in photoluminescence intensity. In general, changes in the photoluminescence peak position may be related to lattice or structural changes. Therefore this turning point might indicate the emergence of intermediate phases during the crystallization, in addition to the black phase. The perovskite film with PAD instead exhibited a smooth photoluminescence evolution profile for both peak position and peak intensity, further verifying the direct conversion to the black phase. The perovskite film with PAD exhibited considerably enhanced photoluminescence intensity and photoluminescence lifetime (Fig.  3e, f ), indicative of pure black-phase perovskite with reduced non-radiative recombination sites in the film. We subsequently evaluated the photovoltaic performance of the fabricated solar-cell devices. For the two-step deposition protocol (Extended Data Fig.  8 ), the device made with PAD had the best power conversion efficiency (PCE), achieving 24.0%, whereas the best control device had a PCE of only 22.9%, primarily because the PAD version had an increased fill factor and open circuit voltage (Fig.  4a ). This was attributed to the reduced non-radiative recombination in the device with PAD, as demonstrated by the slower transient photovoltage decay (Supplementary Fig.  6 ). The short-circuit currents of the device were marginally enhanced, reflecting the slightly faster transient photocurrent decay of the device with PAD  20, 21  (Supplementary Fig.  7 ). A similar trend in device performance was observed for the one-step method (Fig.  4b  and Extended Data Fig.  9 ). The device with PAD demonstrated an improved PCE of up to 25.4% (certified at 25.0%). The histogram of PCEs for 36 devices is shown in Fig.  4c  (the detailed parameters are shown in Supplementary Table  1 ), which confirms that the performance improvements of devices made with PAD were highly reproducible (a 5.6% improvement in average PCE from 23.7 ± 0.4% to 25.0 ± 0.4% when PAD was incorporated). We further extended the application of PAD to the fabrication of solar modules to verify its compatibility with upscaled devices. A high aperture efficiency of 21.4% (certified) was achieved for the PAD-based perovskite module with an area of 27.83 cm 2 (Fig.  4d ). The module showed an average PCE of 20.4%, whereas the control module had an average PCE of only 18.9%, further demonstrating the universality of the approach (Extended Data Fig.  10 ). Our fabricated devices also demonstrated considerably improved operational stability. When tracked at the maximum power point (MPP) with constant illumination at 30 ± 3 °C, the PCE of the control device fell by 30%, whereas the device fabricated with PAD maintained 95% of its initial PCE after more than 1,000 h (Fig.  4e ). In an accelerated-ageing test at 65 ± 3 °C and 85 ± 5% relative humidity, the device with PAD kept more than 82% of its initial PCE after more than 500 h when held at the MPP under constant illumination, whereas the PCE of the control device decreased by around 37% (Supplementary Fig.  8 ). This increased stability could be attributed to the higher crystallinity, reduced defect density and reduced surface energy caused by PAD  8, 22, 23  (Supplementary Fig.  9 ). 
 Online content Any methods, additional references, Nature Portfolio reporting summaries, source data, extended data, supplementary information, acknowledgements, peer review information; details of author contributions and competing interests; and statements of data and code availability are available at  https://doi.org/10.1038/s41586-023-06208-z . 
 Article 
 Methods 
 Materials Solvents and chemicals used in the two-step method were obtained commercially and used without further purification. N,N-dimethylformamide (DMF; anhydrous, 99.8%), dimethyl sulfoxide (DMSO; anhydrous, at least 99.9%), chlorobenzene (anhydrous, 99.8%), isopropanol (anhydrous, 99.5%), 2-methoxyethanol (anhydrous, 99.8%), water (ACS grade), 4-tert-butylpyridine (99%), bis(trifluoromethane)sulfonimide lithium salt (Li-TFSI; 99.95% trace metal basis), PbI 2 (99.999%, perovskite grade), caesium iodide (CsI; 99.999%), silver and gold were obtained from Sigma-Aldrich. Methylammonium chloride (MACl; 99%) and formamidinium iodide (FAI) were obtained from Greatcell Solar. FK209 and Spiro-OMeTAD (99.8%) were obtained from Xi'an Polymer Light Technology. Pentanamidine hydrochloride, butylamidine hydrochloride and propionamidine hydrochloride were obtained from BLDpharm. Tin oxide (SnO 2 ) nanoparticles (15 wt% in water) were obtained from Alfa-Aesar. The materials used in the experiments of the one-step method included: lead(II) iodide (PbI 2 ; 99.99%, TCI), tin(II) chloride dihydrate (SnCl 2 •2H 2 O; 98%, Acros), tin(IV) chloride (99%, Sigma-Aldrich), hydrochloric acid (HCl; 37 wt% in water, Sigma-Aldrich), MACl (99.99%, Greatcell Solar), FAI (99.99%, Greatcell Solar), DMF (99.8%, Sigma-Aldrich), DMSO (99.9%, Sigma-Aldrich), 2-propanol (99.5%, Sigma-Aldrich), chlorobenzene (99.8%, Sigma-Aldrich), Spiro-OMeTAD (Borun), Li-TFSI (99.95%, Sigma-Aldrich), FK209 Co(III) TFSI salt (Sigma-Aldrich) and acetonitrile (ACN; 99.8%, Sigma-Aldrich). 
 Device fabrication Fabrication of perovskite solar cells by the two-step method. In the two-step method, perovskite solar cells were fabricated with the following structure: indium tin oxide (ITO)/SnO 2 /FA 0.95 Cs 0.05 PbI 3 / Spiro-OMeTAD/Ag (or Au). The ITO glass was precleaned in an ultrasonic bath of acetone and isopropanol and was ultraviolet light-ozone treated for 20 min before use. A thin layer (around 30 nm) of SnO 2 was spin-coated onto the ITO glass and baked at 165 °C for 35 min. SnO 2 solution was diluted in water (V SnO2 :V H2O at a ratio of 1:4) before spin-coating. After cooling to room temperature, the glass, ITO and SnO 2 substrates were transferred to a nitrogen glove box. The PbI 2 solution was prepared by dissolving 1.4 M PbI 2 and 0.07 M CsI into 1 ml DMF or DMSO (v/v 94/6). The FAI solution for the control film was prepared by dissolving 80 mg FAI and 13 mg MACl in 1 ml isopropanol. For the preparation of precursors with PAD, BAD or PRD, 2.05 mg PAD, 1.84 mg BAD or 1.63 mg PRD was added to the FAI solution in isopropanol. The solution was stirred overnight before use. To fabricate the perovskite layer, the PbI 2 solution was spin-coated on the substrate at 1,500 rpm for 40 s, and the FAI-PAD, FAI-BAD or FAI-PRD solution was then spin-coated on the PbI 2 film at 1,800 rpm for 40 s, followed by pre-annealing in the glove box at 90 °C for 1 min and annealing outside the glove box at 150 °C for 10 min with 30-40% humidity. The first-step and second-step precursors are denoted as the PbI 2 solution and the FAI solution, respectively, for simplicity, with the exact compositions described above). The Spiro-OMeTAD solution (60 mg Spiro-OMeTAD in 700 μl chlorobenzene with 25.5 μl 4-tert-butylpyridine, 15.5 μl Li-TFSI (520 mg ml -1 in ACN) and 12.5 μl FK209 (375 mg ml -1 in ACN)) was spun onto the perovskite film as a hole conductor. The devices were completed by evaporating 100 nm of either gold or silver in a vacuum chamber (base pressure, 5 × 10 -4 Pa), and the aperture area of the device is 0.1 cm 2 , designated by the shadow mask. 
 Fabrication of perovskite solar cells by the one-step method. The device with an architecture of fluorine-doped tin oxide (FTO) glass/compact TiO 2 layer (c-TiO 2 )/compact SnO 2 layer, (c-SnO 2 )/ Cs 0.05 MA 0.05 FA 0.9 PbI 3 (PVK)/spiro-OMeTAD (HTM)/Au structure was fabricated. The patterned FTO substrate (Asahi FTO glass, 12-13 Ω cm -2 ) was sequentially cleaned with detergent (5% Hellmanex in water), deionized water, acetone and isopropanol in an ultrasonic bath for 30 min. The FTO substrate was then further cleaned with ultraviolet light-ozone surface treatment for 15 min. The c-TiO 2 and SnO 2 layers were sequentially deposited on the clean FTO substrate by chemical bath deposition. The substrate was annealed on a hotplate at 190 °C for 60 min. The perovskite precursor solution (1.4 M) was prepared by adding 645.4 mg PbI 2 , 216.7 mg FAI, 11.1 mg methylammonium iodide and 11.8 mg CsCl into a mixture of 200 μl DMSO and 800 μl DMF. The solution was then stirred for 2 h at 60 °C before 2.09 mg PAD was dissolved into 1.0 ml of DMSO to make a stock solution (concentration around 0.52 M). After ultraviolet light-ozone treatment of the substrates for 15 min, the perovskite precursor solution was spin-coated onto the surface of the FTO/c-TiO 2 /c-SnO 2 substrate at 1,000 rpm for 10 s, accelerated to 5,000 rpm for 5 s and maintained at this speed for 20 s. This process was done in an N 2 -filled glove box. The substrate was then placed in custom-made rapid vacuum drying equipment. After pumping for 20 s, a brown, transparent perovskite film with a mirror-like surface was obtained. The fresh perovskite layer was annealed at 100 °C for 1 h and then at 150 °C for 10 min. Then 60 μl phenethylammonium iodide (PEAI) solution (5 mg ml -1 in isopropanol) was spin-coated on the perovskite film at 5,000 rpm for 30 s. A hole transport layer was deposited on the perovskite film by depositing a doped spiro-OMeTAD solution at 3,000 rpm for 30 s. The doped spiro-OMeTAD solution was prepared by dissolving 105 mg of spiro-OMeTAD and 41 μl 4-tert-butylpyridine in 1,343 μl chlorobenzene with an additional 25 μl Li-TFSI solution (517 mg ml -1 in ACN) and 19 μl cobalt-complex solution (376 mg ml -1 in ACN). Finally, a gold layer approximately 70 nm thick was evaporated on the spiro-OMeTAD layer as the back electrode, and the aperture area of the certified device is 0.06 cm 2 . Fabrication of perovskite modules. Perovskite solar modules, with 8 subcells connected in series, were fabricated on FTO glass substrates with a size of 6.5 × 7.0 cm. The series interconnection of the module was realized by P1, P2 and P3 lines, which were patterned using a laser scribing system with a 1,064 nm laser and a power of 20 W (Trotec). The FTO substrate was pre-patterned for P1 (a width of 50 μm) by means of 60% laser power at a speed of 300 mm s -1 with a frequency of 65 kHz and a pulse width of 120 ns. The subsequent processes for the preparation of c-TiO 2 and c-SnO 2 substrates are the same as the procedures for the small-area device. The perovskite precursor deposition and fabrication procedures were similar to those of the small-size solar cells, except for the concentration of perovskite precursor. A perovskite precursor (1.2 M) was used to make the perovskite layer by spin-coating and the custom-made gas-induced pump method. The perovskite precursor was spin-coated on the c-TiO 2 and c-SnO 2 substrates, which are similar to those for the small-size devices. The perovskite films were annealed at 100 °C for 1 h and 150 °C for 10 min. After cooling to room temperature, the Spiro-OMeTAD layer was similar to those of the small-size devices. The P2 lines (a width of 150 μm) were patterned before the gold evaporation process step with an average laser power of 15% at a speed of 1,000 μm s -1 and a frequency of 65 kHz for a pulse duration of 120 ns. When a gold layer 70 nm thick was deposited, the P3 line (a width of 100 μm) was fabricated under the same scribing conditions as the P2 line. The distance between P1 and P3 was around 400 μm and the geometric fill factor was around 0.93. For solar modules prepared by the blade-coating method (Coatmaster 510), perovskite solar modules with 9 subcells connected in series were fabricated on FTO glass substrates with a size of 6.5 × 7.0 cm. The processes for the preparation of c-TiO 2 and c-SnO 2 substrates and the fabrication of spiro-OMeTAD, as well as the gold electrode, were the same as for the gas-pump method. The perovskite precursor solution (1.2 M) was prepared by dissolving 580.9 mg PbI 2 , 185.7 mg FAI, 9.5 mg methylammonium iodide and 10.8 mg CsCl into 1.0 ml 2-methoxyethanol. The precursor solution was blade-coated onto the c-TiO 2 and c-SnO 2 substrates with a gap of 260 μm at a movement speed of 21 mm s -1 in the N 2 glovebox. The N 2 knife was operated at 30 psi during blade-coating and the as-obtained perovskite films were annealed at 100 °C for 1 h and 150 °C for 10 min. The laser scribing procedures were the same as for the gas-pump method, but the geometric fill factor was 0.91. 
 Stability test The photovoltaic devices to be tested for stability were fabricated as described above. They were encapsulated by a glass-glass encapsulation technology combined with an edge seal (curing sealant 3035B, ThreeBond) to seal the device under ultraviolet light (LED flood lamp, DELOLUX 20). The edge of the device was first cleared by laser. Indium was soldered on the FTO and gold electrodes on the edge of the 15 mm × 25 mm substrate. A glass coverslip with a size of 13 mm × 23 mm was placed on top of the gold layer of the device. Sealant was placed on the edges of the coverslip to seal the gap between the coverslip and device. Finally, ultraviolet light was used to induce cross-linking between the sealant and the coverslip at 25% of maximum power for 120 s in the glove box. For the stability test at ambient conditions (30 ± 3 °C), unencapsulated devices were evaluated. For the accelerated-degradation test, the encapsulated devices were kept in a thermo-hygrostat (GP/TH-150, SH Guangpin), which was set to 85 ± 5% relative humidity at 65 ± 3 °C. The performance of the devices was measured electronically using a 22-bit delta-sigma analogue-to-digital converter. A reference Si photodiode was placed in close to the devices to record the light intensity. Long-term stability tests were done at the MPP using a tracking algorithm for an illumination of 1 sun (standard illumination at 1 kW m -2 ) according to the ISOS-L-3 protocol. 
 Device characterization Current density-voltage characteristics of photovoltaic cells were determined using a Keithley 2400 source measurement unit under a simulated AM1.5G spectrum with an Oriel 9600 solar simulator. Typically, small devices were measured in a reverse scan (1.20 V to 0 V with steps of 0.01 V for one-step devices and 1.25 V to 0 V with steps of 0.02 V for two-step devices). The modules were measured in a reverse scan (from 9.45 V to 0 V) at a constant scan speed of 100 mV s -1 with a step of 50 mV. For the measurement of high-efficiency devices, an antireflection film was applied to the surface of devices. All devices were measured without pre-conditioning such as light-soaking or a bias voltage. The steady-state power-conversion efficiency was calculated by measuring the stabilized photocurrent density under a constant bias voltage. External quantum efficiencies were measured using an integrated system (Enlitech) and a lock-in amplifier with a current preamplifier under the short-circuit condition. 
 Material characterization and spectroscopic investigation Ultraviolet-light and visual-light absorption spectra of the perovskite films were obtained using a Shimadzu UV-VIS-NIR (UV3600Plus + UV2700) spectrometer equipped with an integrating sphere, in which monochromatic light was incident to the substrate side. To measure time-resolved photoluminescence, the sample was excited using a picosecond-pulse diode laser (Pico-quant LDH 450) with a roughly 70-ps pulse width and a repetition rate of 20 MHz or 10 MHz, focused on a sample with a 100× objective lens and a numerical aperture of 0.90. The photoluminescence signal was acquired through the TCSPC strobelock system. The total instrument response function for the photoluminescence decay was less than 200 ps and the temporal resolution was less than 30 ps. XRD experiments were performed using a sealed-tube Cu X-ray source, equipped with 1D LynxEye detector. The in situ experiment was performed with a high-brilliance rotational point-focused Cu X-ray source, equipped with duo detectors of a scintillation counter and LynxEye. The in situ chamber of TC DOME created a robust heating environment and measurement was initiated with a temperature increasing from room temperature to an air temperature of 450 K, followed by XRD data collection. The transient photovoltage and transient photocurrent were measured by a photo-electrochemical system. A conductive atomic-force microscope was used for environmental atomic force microscopy, and an X-ray photoelectron spectrometer was used (ThermoFisher ESCALAB Xi+). Al Kα radiation (1486.6 eV) was used as the excitation source. Transmission FTIR spectroscopy was done using an FT/IR-6100 ( Jasco). PAD was mixed with PbI 2 using a molar ratio of 1:1 for the FTIR measurements. Ultraviolet-light photoelectron spectroscopy measurements were carried out to determine the work function and the position of valence band maximum of materials. A helium discharge lamp, emitting ultraviolet-light energy at 21.2 eV, was used for excitation. All ultraviolet-light photoelectron spectroscopy measurements were made using standard procedures with a -10 V bias applied between the samples and detectors. Clean gold was used as a reference. Grazing-incidence X-ray diffraction (GIXRD) was performed during spin coating and thermal annealing in a custom-made spin coater. The spin coater is attached to the endstation of beamline 12.3.2 at the Advanced Light Source (ALS), Lawrence Berkeley National Laboratory. This custom-made setup allows thin film fabrication from solutions including remotely triggered antisolvent dripping during the measurement in the hutch. While the film is fabricated, diffraction and PL data can be collected simultaneously. The incoming X-ray beam was at a shallow angle of 1° with a beam energy of 10 keV. A DECTRIS Pilatus 1M X-ray detector at an angle of 35° to the sample plane and a sample-to-detector distance of ~189 mm was used. Measurements were carried out on an area of 0.06 mm 2 (12 mm × 0.005 mm) with an approximate flux of ~109 photons s -1 . The spin coater setup is designed in such a way that the experiment can be performed remotely, avoiding any transfer delays between film deposition and annealing. Samples were heated using a temperature ramp of about 4.5 °C s -1 to their annealing temperature. The diffraction data was collected with a frame rate of 1.8 s -1 . The 2D diffraction images were initially analysed using custom-made software and then further analysed by using Igor Pro 8.04 software using Irena and Nika packages  24, 25  .  Shi 1 , 2 , 13 , 1213 Yong Ding 3,4,13 , Bin Ding 3,13 , Qiyu Xing 5,13 , Tim Kodalle 6 , Carolin M. Sutter-Fella 6 , Ilhan Yavuz 7 , Canglang Yao 8 , Wei Fan 1,2 , Jiazhe Xu 2 , Yuan Tian 1,2 , Danyu Gu 9 , Ke Zhao 1,2 , Shaun Tan 5 , Xu Zhang 2 , Libing Yao 2 , Paul J. Dyson 3 , Jonathan L. Slack 10 , Deren Yang 1 , Jingjing Xue 1 ✉ , Mohammad Khaja Nazeeruddin 3 ✉ , Yang Yang 5 ✉ & Rui Wang 2,11,12 ✉ 
 1 State 1 https://doi.org/10.1038/s41586-023-06208Key Laboratory of Silicon Materials and Advanced Semiconductor Materials, School of Materials Science and Engineering, Zhejiang University, Hangzhou, China.2  School of Engineering 
 Fig. 1 | 1 Fig. 1 | Direct formation of black-phase FAPbI 3 at room temperature and the driving force. a, XRD patterns of perovskite films after spin-coating the precursors at room temperature, where 2θ is the change in angle. b, Theoretical models of the perovskite (100) plane without PAD (left) and with PAD (right). c, Schematic illustration of the thermodynamic driving force and the kinetics of the oriented nucleation of perovskite films. E, change in energy; a.u., arbitrary units. 
 Fig. 2 |Fig. 3 | 2 )Fig. 4 | 2324 Photoluminescence intensity (a.u.) 
 Extended Data Fig. 4 | 4 Evolutions of the azimuth angles during the nucleation stage of perovskite films. Evolution of the azimuth angle during the nucleation of a, the control perovskite film and the films fabricated with b, PRd, c, BAd and d, PAd. Extended Data Fig. 5 | In-situ GIXRD monitoring of the initial nucleation stage of perovskite films. In-situ GIXRD monitoring of the initial nucleation stage of perovskite films fabricated a, with and b, without PAd. The control perovskite nuclei contained a diffraction peak at around 14°, whereas the one with PAd showed a diffraction peak at around 14.4°, indicating compressive strain within the lattice of the perovskite nuclei. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 Table 1 | 1 Summary of the photovoltaic parameters of the devices made by one-step method PCE (%) One step FF (%) Voc (V) Jsc (mA/cm 2 ) average best PAd 82.0±1.0 1.15±0.01 26.2±0.1 25.0±0.4 25.4 Control 81.0±1.0 1.10±0.02 26.2±0.1 23.7±0.4 24.1 
 Table 2 | 2 Summary of the photovoltaic parameters of the devices made by two-step method PCE (%) Two step FF (%) V oc (V) J sc (mA/cm 2 ) average best PAd 77.0±2.4 1.18±0.02 25.1±0.8 23.2±0.9 24.0 Control 70.0±7.0 1.13±0.06 25.1±0.4 19.9±3.0 22.9 
 Table 3 | 3 Summary of the photovoltaic parameters of the modules PCE (%) Module FF (%) Voc (V) Isc (mA) average best PAd 79.0±1.0 9.31±0.04 84.2±1.7 20.4±0.3 20.7 Control 75.0±4.0 9.05±0.15 84.0±1.5 18.9±1.2 20.1