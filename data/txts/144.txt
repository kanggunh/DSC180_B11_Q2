Paper #: 144

Unless otherwise stated, all materials were used as received without further purification. Methylammonium iodide (MAI, >99.0%), formamidinium iodide (FAI, >98.0%), bathocuproine (BCP), lead(II) iodide (PbI2, 99.99%, trace metals basis), and cesium iodide (CsI, >99%) were purchased from Tokyo Chemical Industry Co., Ltd. (TCI). Ammonium thiocyanate (NH4SCN, 99.99% trace metals basis), tin(II) fluoride (SnF2, 99%), and tin(II) iodide (SnI2, beads, 99.99%, trace metals basis), ethane-1,2-diammonium iodide (ethylenediammonium diiodide, EDAI2, 98%), glycine hydrochloride (GlyHCl, 99%), poly[bis(4-phenyl)(2,4,6-trimethylphenyl)amine] (PTAA), and poly(methyl methacrylate) (PMMA) were purchased from Sigma-Aldrich Co., Ltd. (Sigma-Aldrich). Poly(3,4-ethylenedioxythiophene): poly(styrene sulfonate) (PEDOT:PSS) aqueous solution (Clevious PVP AI 4083) was purchased from Heraeus Co., Ltd. Fullerene C60 (sublimed, 99.99%) was purchased from ATR Company. 2,3,5,6-Tetrafluoro-7,7,8,8tetracyanoquinodimethane (F4-TCNQ) and poly[9,9-dioctyl-9',9'-bis[3-(trimethylammonio)propyl] [2,2'-bi-9H-fluorene]-7,7'-diyl iodide (PFN-I) were purchased from Ossila. Dehydrated dimethylsulfoxide (DMSO, super dehydrated) and isopropanol (IPA, super dehydrated) were purchased from FUJIFILM Wako Pure Chemical Co., Ltd. Dimethylformamide (DMF), toluene and chlorobenzene were purchased from Kanto Chemical. Co., Inc. All of these solvents were degassed by Ar gas bubbling for 1 h and further dried with molecular sieves (3 Å) in an Ar-filled glove box (H2O, O2 <0.1 ppm) before use. 
 Fabrication of Perovskite Thin Films The perovskite film preparation was conducted in an Ar-filled glove box (H2O, O2 <0.1 ppm). The Cs0.1FA0.6MA0.3Sn0.5Pb0.5I3 perovskite precursor solution was prepared by mixing CsI (46.8 mg, 0.180 mmol), FAI (185.7 mg, 1.08 mmol), MAI (85.8 mg, 0.540 mmol), SnI2 (335.3 mg, 0.900 mmol), PbI2 (414.9 mg, 0.900 mmol), SnF2 (14.1 mg, 0.090 mmol), and NH4SCN (2.7 mg, 0.036 mmol) in mixed solvents of 0.25 mL DMSO and 0.75 mL DMF to reach a concentration of 1.8 M. To prepare the samples with additive, 2 mol% (4.0 mg, 0.036 mmol) of GlyHCl with respect to the total amount of SnI2 and PbI2 was added to the precursor solution. The precursor solution was stirred at 45 C for 40 min and filtered through a 0.20 m PTFE filter before use. To spin coat the
films, 200 L of the room temperature precursor solution was applied to the substrate. A two-step spin coating program was used. The first step was at 1000 rpm for 10 s with an acceleration of 200 rpm s -1 , and the second step was 4000 rpm for 40 s with an acceleration of 1000 rpm s -1 . Room temperature chlorobenzene (400 L) was used as the antisolvent. The chlorobenzene was quickly dripped onto the surface of the spinning substrate over an interval of 1 s during the second spin coating step at 20 s before the end of the procedure. The substrate was then immediately annealed on a 100 C hot plate for 10 min, followed by annealing at 65 C for over 10 min. For the EDAI2 post-treatment, 1.0 mg EDAI2 was added to 1.0 mL IPA and 1.0 mL toluene. The mixed solvent solution was stirred at 70 C for 3 h and then filtered through a 0.20 m PTFE filter before spin coating. 120 L of the EDAI2 solution was applied to the annealed and cooled perovskite films by spin coating at 4000 rpm for 20 s with an acceleration of 1333 rpm s -1 . Following spin coating, the films were immediately annealed again at 100 C for around 5 min (see more detail at Fig.  S47 ). For the space-charge-limited current (SCLC) measurements, hole-only and electron-only devices were prepared. For the hole-only devices, 150 µL PTAA solution (20 mg mL -1 in chlorobenzene, doped with 1 wt% F4-TCNQ) was spin-coated onto the perovskite films fabricated on the PEDOT:PSS-coated substrates at 2000 rpm for 30 s with an acceleration of 400 rpm s -1 , and the films were immediately annealed at 65 C for around 5 min. For the electron-only devices, doublesided C60 layers (20 nm) were sequentially deposited by thermal evaporation before and after the perovskite layer preparation. For all samples, 100 nm of silver was deposited through a metallic aperture mask to form the top electrode. For the films fabricated on PTAA/PFN-coated FTO, 120 µL PTAA solution (2 mg mL -1 in chlorobenzene) was spin-coated onto the FTO substrates at 4000 rpm for 20 s, and the films were immediately annealed at 130 C for around 10 min. Then, the PTAA-coated FTO substrates were coated with PFN-I. 120 µL PFN-I solution (0.1 mg mL -1 in DMF) was spin-coated onto the PTAAcoated FTO substrates at 4000 rpm for 20 s without annealing. 
 Fabrication of solar cell devices Glass/FTO substrates (10 Ω sq -1 , AGC Inc.) were etched with zinc powder and HCl (6 M in deionized water), and consecutively cleaned with 15 min ultrasonic bath in water, acetone, detergent solution (Semico Clean 56, Furuuchi chemical), water, and isopropanol, followed by drying with an air gun, and finally plasma treatment. The PEDOT:PSS hole transport layer was fabricated from an aqueous dispersion which was filtered through a 0.45 m PVDF filter and then spin coated on the FTO substrate using a spin program of 10 s at 500 rpm followed by 30 s at 4000 rpm. The films were then annealed in air at 140 C for 20 min. After transferring to an Ar-filled glove box (H2O, O2 <0.1 ppm), the substrates were degassed at 140 C for 30 min. The perovskite layer was fabricated on PEDOT:PSS following the above-mentioned procedure. The samples were moved under Ar to a vacuum deposition chamber, where 20 nm of C60 (deposition rate 0.01 nm s -1 ) and 8 nm of BCP (deposition rate 0.01 nm s -1 ) were deposited by thermal evaporation. The top electrode was prepared by depositing 100 nm of silver (Ag) through a shadow mask. The deposition rate for Ag was firstly set as 0.005 nm s -1 to reach 5 nm, then raised to 0.01 nm s -1 to reach 20 nm, and finally raised to 0.08 nm s -1 to reach the target thickness. 
 Characterization For the time-resolved photoluminescence (TRPL) measurements, the samples were excited by a picosecond pulsed laser with a wavelength of 688 nm (Advanced Laser Diode System) and the excitation frequency of 10 kHz. To shorten the measurement time, the PL signal was divided with a beam splitter (transmission 50%) and detected with a pair of avalanche photodiodes (APD) (ID Quantique). The TRPL signal on each APD was recorded using time-correlated single photon counting boards (Pico Quant). Under weak excitation conditions, a defocus lens was used in order to maintain a high incident photon flux into the APDs. The initial carrier densities were calculated from the excitation photon flux and the absorption coefficient of samples at 688 nm (4.4 × 10 4 cm -1 , Fig.  S29 ). Using a variable neutral density filter, the excitation laser power was adjusted to achieve the desired initial carrier density. The TRPL dynamics were analyzed by the rate equation model reported in our previous work  1  . Scanning electron microscopy (SEM) was performed with a Hitachi S8010 ultra-high-resolution scanning electron microscope (Hitachi High-Tech Corporation). UV-vis absorption measurement was performed with a Shimadzu UV-3600 plus spectrometer (Shimadzu Co., Ltd.). Dynamic light scattering (DLS) was conducted with an ELSZ-2000 spectrophotometer (Otsuka Electronics Co., Ltd., Japan). The experiment was conducted after around five hours before the sample preparation, as the sample transporting to, and equipment adjustment in, the company. The refractive indices and viscosity of the solvent were 1.4405 and 1.1005, respectively, based on the DMF and DMSO with the volume ratio of 3 to 1. X-ray photoelectron spectroscopy (XPS) was recorded with a JPS-9010 (JEOL Co., Ltd.) instrument. Perovskite film samples for XPS measurements were prepared in an Ar-filled glove box and transferred to the XPS chamber through an Ar-filled transfer vessel in order to avoid oxygen contamination. Photocurrent-voltage (J-V) curves were measured in a N2-filled glove box (H2O, O2 <0.1 ppm) with an OTENTO-SUN-P1G solar simulator (Bunkoukeiki Co., Ltd.). The light intensity of the illumination source was calibrated using a standard silicon photodiode. Each device was measured with a 10 mV voltage step and a 100 ms time step (i.e. scan rate of 0.1 V s -1 ) using a Keithley 2400 source meter. The device active area was defined by an optimal mask, 0.0985 cm 2 for the regular devices and 1 cm 2 for the large area cells. Steady-state power output (SPO) measurements were performed by holding the device at the voltage of the maximum power point, as determined by the JV characteristic, and monitoring the current density over the course of 300 s. External quantum efficiency (EQE) and internal quantum efficiency (IQE) spectra were measured with a Bunkoukeiki SMO-250III system equipped with a Bunkoukeiki SM-250 diffuse reflection unit (Bunkoukeiki Co., Ltd.). The incident light intensity was calibrated with a standard SiPD S1337-1010BQ silicon photodiode. UPS was performed with a photoelectron spectroscopy system (PHI5000 Versa Probe II, ULVAC-PHI Inc.) with He I excitation (21.22 eV). A -5.0 V bias was applied to the samples. The chamber base pressure was approximately 1 × 10 -6 Pa. Samples were transferred from the glove box to the UPS chamber without exposure to air. ESR measurements were performed with an X-band ESR spectrometer (JEOL RESONANCE, JES-FA200). The parameters for the measurement are as follow. Sweep range, 319 ± 5 mT; sweep time, 2 min; microwave power, 0.5 mW; modulation frequency, 100 kHz; modulation width, 0.3 mT; time constant, 0.1 s; amplitude, 4000; number of scans (accumulation), 29 × 10. Grazing incidence X-ray diffraction (GIXD) measurements were performed on Rigaku SmartLab equipped with a hybrid pixel array detector HyPix-3000. Perovskite films were deposited on the surface of PEDOT:PSS with glass/FTO as substrates and covered with a thin film of spin-coated poly(methyl methacrylate) (PMMA, Sigma-Aldrich) to prevent direct exposure to air.  1  H NMR spectra were recorded on Bruker Avance-400 spectrometer (400 MHz). The NMR chemical shifts are reported in ppm relative to the residual protons and carbons of DMSO-d6 (δ = 2.50 ppm in 1H NMR). Quantum yields were determined with a Hamamatsu Photonics Quantaurus-QY Plus C13534 with calibrated integrating sphere system. Electrochemical impedance spectroscopy data were obtained in inert atmosphere under AM1.5G simulated solar radiation, using an Agilent E4990A impedance analyzer. Scans were taken from 20 Hz to 20 MHz, with a 30 mV oscillator voltage, recorded for forward bias voltages between 0 and 1.2 V in 0.1 V steps. Time-of-flight secondary ion mass spectrometry (ToF-SIMS) measurements were carried out using a ToF.SIMS 5 (IONTOF GmbH) operated in the high lateral resolution mode (burst alignment mode). A 50 kV Bi3 2+ primary ion beam with pulses width of 125 ns was used for data acquisition. Primary ion dose density (PIDD) was maintained less than approximately 5 × 10 11 ions cm -2 in each measurement cycles to prevent sample damage from the irradiation of primary ion beam. For sample etching, a 10 kV Ar gas cluster ion beam (Ar-GCIB) with a center size of approximately 1200 atoms was used as sputtering ion beam. The raster area of the primary ion beam was 30 µm × 30 µm and that of the sputtering ion beam was 500 × 500. Depth profiles and three-dimensional images of EDAI2/GlyHCl-treated ingredients (or ions) were reconstructed from the raw data after data acquisition. In addition, mass spectra and depth profiles with high mass resolution were acquired from an area of 200 µm × 200 µm by using high mass resolution mode (bunching mode). A low-energy electron-flood gun was used for charge compensation.   perovskite films. Noting that, the size of Cl -is even smaller than that of I -within the perovskite composition. Thus, Cl -is highly mobilizable in the whole wet process of the film fabrication. Additionally, Cl -is too small to be composed to the perovskite structure in this case, it is therefore expelled out of the perovskite structures, and ends up at the grain surfaces, especially the top the bottom surfaces of the resultant films. A perovskite precursor solution containing 20 mol% GlyHCl was rapidly injected into the chlorobenzene antisolvent under vigorous stirring, forming black perovskite crystallites (Fig.  S19a ). The crystallites were collected and dried under vacuum, before re-dissolving them in dimethyl sulfoxide-d6 and measuring the 1 H NMR spectrum. Signals from GlyH + could be identified, in addition to those from FA + and MA + (Fig.  S19b ). By comparing the integrated peak areas, the ratio of GlyH + against the total of A site component (Cs + , FA + , MA + ) was estimated to be 0.20. Assuming all the materials bind as a full coverage monolayer to the perovskite surfaces, an analysis of the surface/volume ratios suggests this would correspond to the formation of ca. 20 nm nanocrystals. More importantly, we note that the hydrogen atoms from the ammonium head of GlyH + are shifted by 0.32 ppm compared with the pristine GlyHCl (Fig.  S19c ), indicating that the ammonium group of GlyH + cation has an affinity for the perovskite components.     
 XRD characterization To confirm the effect of GlyHCl on the enhancement of the film crystallinity, we also compared the XRD patterns of the films fabricated with the addition of 2, 4, and 8 mol% GlyHCl without EDAI2 post-treatment. The intensity of the (100) peak increases with the amount of GlyHCl added into the precursor solution, and no new peaks or peak-shifts can be observed. We can therefore conclude that GlyHCl enhances the crystallinity of the resultant perovskite films without inducing new crystalline phases, such as the low dimension perovskite crystals.  
 Surface treatment The composition of the co-solvent system (isopropanol and toluene with the volume ratio of 1:1) used for the EDAI2 post-treatment is very important. The polarity of the isopropanol helps the organic ammonium salts to anchor to the film surface, enhancing defect passivation 2 . Sncontaining perovskites are soluble in isopropanol  3  , however, so toluene was applied to reduce the overall viscosity of the solution to accelerate the dispersion of the EDAI2 solution on the films before spinning. The viscosity of isopropanol and toluene is 2.40 and 0.59, respectively. The average thickness of the perovskite films is 870, 830, and 860 nm for control, EDAI2treated, EDAI2/GlyHCl-treated perovskite films, respectively. The EDAI2-treated film is notably thinner than the control, this phenomenon also can be observed in the sample prepared for the SCLC characterizations (Table  S2 ), confirming the polishing effect of the post-treatment with EDAI2 solution.     To further investigate the structural characters at the film surface, we conducted grazing incidence XRD (GIXRD) measurements with incident angles of 0.2, 0.4, and 1.0° (Fig.  S26  and 27 ). As the incident angle increases, more structural information is collected from regions further away from the top surface of the perovskite layer. As incident angle increased, the interplanar space in the crystal lattice of the films with treatments (Fig.  S26a  and b ) expanded, indicating that the film at the surface region is more compressed than the bulk  4  . For the films fabricated with different modifications, the intensity of the (100) peaks increases especially with the incident angle of 0.2° (Fig.  S26d ), confirming the benefits of the treatments on the film crystallinity, particularly at the surface region.     for the GlyHCl/EDAI2-treated sample. The value of A is three orders of magnitude lower than that of MAPbI3 1 , suggesting that our films have a lower density of traps such as the structural defects and impurities. The value of B is one order of magnitudes lower than that of MAPbI3 1 , probably because of the smaller bandgap energy of Sn-Pb perovskites. The obtained unintentionally-doped carrier density N is similar to the reported values of MAPbI3 (~10 15 cm -3 ) 1 , suggesting that the characteristic p-doping commonly observed in Sn-containing perovskite materials is largely suppressed in our GlyHCl/EDAI2-treated mixed Sn-Pb perovskite films.   Dashed lines represent the fit of the decay signals to the rate equations reported in our previous work  1  . 
 Space-charge-limited currents (SCLC) characterization Trap densities in the perovskite films were estimated from dark current-voltage (I-V) curves obtained for FTO/PEDOT:PSS/perovskite/PTAA/Ag hole-only, and FTO/C60/perovskite/C60/Ag electron-only devices  5, 6  . Fig.  S32  shows the I-V curves of the hole-only devices. The voltages where the currents start to sharply increase can be assigned to the trap-filled limit voltage (VTFL), from which the trap density, Ntrap, can be estimated using the following relation: VTFL = Ntrap(eL 2 )/(2εrε0) , where e is the elementary charge of the electron, ε0 is the vacuum permittivity, εr is the relative dielectric constant of the perovskite (around 32)  7  , and L is the thickness of the perovskite film. The VTFL values are given in Table  S2 . The estimated trap densities for the control, EDAI2-treated, and EDAI2/GlyHCl-treated films were 3.0 × 10 15 , 2.9 × 10 15 , and 1.7 × 10 15 cm -3 , respectively. The EDAI2/GlyHCl-treated films have the lowest trap-state density, and therefore, the corresponding devices should have the smallest number of recombination events. Meanwhile, the EDAI2/GlyHCl-treated films also showed a low density of electron traps (2.9 × 10 14 cm -3 ), as determined from the electron only devices.                
 Further detail about the filming processes for better lab-to-lab reproducibility We observed white dots forming at the bottom surface of the films processed on 1.1 mm thick ITO substrate. However, this phenomenon cannot be observed in the films deposited on 1.8 mm thick FTO-based substrates with the normal fabrication conditions. We also found that the white dots will be formed even on the films fabricated with FTO substrate, if we drip the antisolvent preheated up to 45 °C. We therefore believe that the formation of the white dots is related to the cation exchange processes during the crystal growth (see the details in the main text). The cation exchange is a dynamic process, which is closely linked to the time dependence of the wet process. In the case of FTO, if the films were deposited with the hot antisolvent, the wet films tend to dry much faster than the case with the cold antisolvent. In the hot antisolvent dripping case, therefore, the whole cation exchange processes cannot be completed in time, resulting in white dots at the bottom surface of the films. In the ITO case, we may alleviate it by reducing the amount of GlyHCl added into the precursor solution and/or optimizing the fabrication conditions by, for example, i) changing the temperature of the antisolvent, ii) controlling the temperature inside the glovebox, or iii) dripping the antisolvent in a time window that ensures a sufficient time to complete the cation exchange within the whole crystallization process.    
 PLQY characterization We fabricated perovskite films on PEDOT:PSS to evaluate the nonradiative recombination in our system via PLQY measurement. On PEDOT:PSS, the PLQY of the EDAI2/GlyHCl-treated perovskite film is 2.1%, considerably higher than that of the control film (~0.001%), verifying that the nonradiative recombination pathways in the EDAI2/GlyHCl-treated films are largely suppressed.  Fig. S1 . S1 Fig. S1. ToF-SIMS depth profiles of the control perovskite film fabricated on an PEDOT:PSS/FTO-coated glass substrate measured in a, positive and b, negative polarity. 
 Fig. S7 .Fig. S8 .Fig. S9 . 4 ,FTOFig. S10 .Fig. S12 .Fig. S13 . 4 ,Fig. S15 . S7S8S94S10S12S134S15 Fig. S7. Reconstructed 3D map (stretched in the z direction for clarity) showing the distributions of EDA 2+ ions through the perovskite films without subtracting the background signals. a, EDAI2treated, b, EDAI2/GlyHCl-treated, c, EDAI2/GlyHCl-treated without PEDOT:PSS and d, Control perovskite films. 
 Fig. S16 .Fig. S17 . S16S17 Fig. S16. ToF-SIMS depth profile of SCN -ions in the perovskite films prepared with and without the addition of NH4SCN. 
 Fig. S19 . 8 M S198 Fig. S19. Model experiments for the elucidation of the effect of GlyH + in the perovskite crystallization process. a, Formation of perovskite crystallites by rapid reprecipitation. b, 1 H NMR spectrum of the perovskite crystallites in DMSO-d6. c, Comparison with the spectrum of glycine hydrochloride (GlyHCl). 
 Fig. S20 . S20 Fig. S20. Dynamic light scattering (DLS) results for the perovskite precursor solutions prepared a, without and b, with the addition of 2 mol% GlyHCl. Note that the DLS experiment was conducted around five hours after the sample preparation, as the sample transporting to, and equipment adjustment in, the company (Otsuka Electronics Co., Ltd., Japan). 
 Fig. S21. a , a Fig. S21. a, XRD patterns of perovskite films prepared with the addition of 2, 4, and 8 mol% of GlyHCl (without EDAI2 post-treatment); b, the corresponding peak intensity of the (100) peaks. 
 Fig. S23 . S23 Fig. S23. Variations of the film thickness measured from 15 different cross-sections for each sample. The average thickness of the perovskite films is 870, 830, and 860 nm for control, EDAI2- 
 Fig. S24 . S24 Fig. S24. Top-view (scale bar: 2 µm) SEM images of the control perovskite films treated with a, co-solvent and b, EDAI2 in pure IPA solution fabricated on PEDOT:PSS-coated FTO/glass substrates. J-V curves of the devices fabricated with the control perovskite films treated with c, co-solvent and d, EDAI2 in pure IPA solution. 
 Fig. S25 . S25 Fig. S25. XRD patterns of perovskite films with the 2θ range from a, 5 to 45°, b, 12 to 15° for showing the difference of the (100) peak intensity of the films, c, 12 to 15° with magnification for showing the PbI2 peaks; d, the corresponding peak intensity and full width at half maximum (FWHM) of the (100) peaks. All diffraction peaks of FTO are indexed following the rutile tetragonal crystalline phase of SnO2 (COD No. 96-210-1854). A thin layer of PMMA was coated onto the perovskite films to prevent oxidation. 
 Fig. S26 .Fig. S27 . S26S27 Fig. S26. Grazing incidence XRD patterns of a, control, b, EDAI2-treated, c, GlyHCl-treated, and d, EDAI2/GlyHCl-treated perovskite films measured with the incident angles of 0.2, 0.4, and 1.0°. 
 Fig. S28.Fig. S29 . S29 Fig. S28. a, Steady-state photoluminescence (PL) spectra of the perovskite films fabricated on quartz substrates with the front-side excitation. b, Time-resolved photoluminescence (TRPL) decay of the perovskite films fabricated on quartz substrates with the front-side excitation. 
 Fig. S30 . S30 Fig. S30. The PL lifetime, PL intensity, and FWHM of the PL peaks for the perovskite films fabricated on quartz substrates with back-side excitation. 
 Fig. S31 . S31 Fig. S31. PL dynamics of the EDAI2/GlyHCl-treated films under different excitation intensities. 
 Fig. S32 . S32 Fig. S32. Dark I-V curves of the a, hole-only and b, electron-only devices with the architectures of FTO/PEDOT:PSS/perovskite/PTAA/Ag and FTO/C60/perovskite/C60/Ag, respectively. 
 Fig. S33 .Fig. S37 . S33S37 Fig. S33. Stabilized power output of the EDAI2/GlyHCl-treated device measured by fixing the voltage at 0.76 V under AM1.5G. 
 Fig. S39 . S39 Fig. S39. Representative J-V curves of the device fabricated with the addition of 2 mol% GlyHCl while without EDAI2 treatment. 
 Fig Fig. S41. a, J-V curves for the best performing large area device, with an active area 1 cm 2 . The PCE is 21.0% for the forward scan (JSC = 33.1 mA cm -2 , VOC = 0.88 V, FF = 0.72). b, Photos of the cell with 1 cm 2 active area. Insets show the front side of the cell and the optical mask used for the measurement. 
 Fig. S42 . S42 Fig. S42. Histograms of the J-V parameters obtained from nine devices with 1 cm 2 active area. 
 Fig. S43 . S43 Fig. S43. Energy levels of the perovskite films. Energies are given in electron volts relative to vacuum level. The detailed UPS spectra were given in Fig. 4a and b. 
 Fig. S44 .Fig. S45 . S44S45 Fig. S44. Energy level shifts induced by EDAI2 post-treatment for the perovskite layers prepared a, without GlyHCl additive and b, with GlyHCl additive. 
 Fig. S46 . S46 Fig. S46. The integrated ESR spectra for the data presented in Fig. 4d. 
 Fig. S47 .FigFig. S49 . S47S49 Fig. S47. The picture of the perovskite films fabricated with the addition of 2 mol% GlyHCl. a, The film deposited on ITO and b, FTO with the unheated antisolvent, c, the film deposited on the FTO with the antisolvent heated up to 45 °C. 
 Fig. S50 . S50 Fig.S50. Shelf-stability of the control and GlyHCl-treated devices stored in the dark in a N2-filled glovebox. The device parameters are calculated from the average measurements obtained from six cells of each type. After 100 days (2400 h) dark storage in the glovebox, the control device and device treated with GlyHCl additive retained 89 and 97% of their initial efficiencies, respectively. 
 Fig. S52 . S52 Fig. S52. PLQY spectra of the control and EDAI2/GlyHCl-treated perovskite films excited at 650 nm. 
 No. 3, EDAI2 1E-04 1E-03 1E-02 1E-01 1E+00 1E+01 1E+02 Fig. S2. ToF-SIMS depth profiles of the EDAI2-treated perovskite film fabricated on an 0 400 800 1200 1600 Normalized Intensity Depth(nm) CH6N+ CH5N2+ C2H9N2+ Sn+ SnI+ Cs+ Cs2I+ Pb+ PbI NH4+ Na+ Cs2F+ SnOH+ 1E-05 1E-04 1E-03 1E-02 1E-01 1E+00 1E+01 0 400 800 1200 1600 Normalized Intensity Depth(nm) I-I2-CsI2-SnI3-PbI3-C8H7SO3-F-Cl-SnO2-SCN-C2H4NO2-a b CH 6 N + CH 5 N 2 + C 2 H 9 N 2 + Sn + SnI + Cs + Cs 2 I + Pb + PbI + NH 4 + Na + Cs 2 F + SnOH + I -I 2 -CsI 2 -SnI 3 -PbI 3 -C 8 H 7 SO 3 -F -Cl -SnO 2 -SCN -C 2 H 4 NO 2 -PEDOT:PSS/FTO-coated glass substrate measured in a, positive and b, negative polarity. 1E-04 1E-03 1E-02 1E-01 1E+00 1E+01 1E+02 0 400 800 1200 1600 Normalized Intensity Depth (nm) CH6N+ CH5N2+ C2H9N2+ Sn+ SnI+ Cs+ Cs2I+ Pb+ PbI NH4+ Na+ Cs2F+ SnOH+ 1E-05 1E-04 1E-03 1E-02 1E-01 1E+00 1E+01 0 400 800 1200 1600 Normalized Intensity Depth (nm) I-I2-CsI2-SnI3-PbI3-C8H7SO3-F-Cl-SnO2-SCN-C2H4NO2-a b CH 6 N + CH 5 N 2 + C 2 H 9 N 2 + Sn + SnI + Cs + Cs 2 I + Pb + PbI + NH 4 + Na + Cs 2 F + SnOH + I -I 2 -CsI 2 -SnI 3 -PbI 3 -C 8 H 7 SO 3 -F -Cl -SnO 2 -SCN -C 2 H 4 NO 2 -Fig. S3. ToF-SIMS depth profiles of the EDAI2/GlyHCl-treated perovskite film fabricated on an PEDOT:PSS/FTO-coated glass substrate measured in a, positive and b, negative polarity. 1E-04 1E-03 1E-02 1E-01 1E+00 1E+01 1E+02 0 400 800 1200 1600 Normalized Intensity Depth (nm) CH6N+ CH5N2+ C2H9N2+ Sn+ SnI+ Cs+ Cs2I+ Pb+ PbI NH4+ Na+ Cs2F+ SnOH+ 1E-05 1E-04 1E-03 1E-02 1E-01 1E+00 1E+01 0 400 800 1200 1600 Normalized Intensity Depth (nm) I-I2-CsI2-SnI3-PbI3-C8H7SO3-F-Cl-SnO2-SCN-C2H4NO2-a b 1E+01 a b 1E+02 CH 6 N + CH 5 N 2 + C 2 H 9 N 2 + Sn + SnI + Cs + Cs 2 I + Pb + PbI + NH 4 + Na + Cs 2 F + SnOH + I -I 2 -CSI 2 -SnI 3 -PbI 3 -C 8 H 7 SO 3 -F -Cl -SnO 2 -SCN -C 2 H 4 NO 2 -Fig. S4. ToF-SIMS depth profiles of the EDAI2/GlyHCl-treated perovskite film fabricated on an FTO-coated glass substrate with no PEDOT:PSS layer measured in a, positive and b, negative Fig. S5. ToF-SIMS depth profiles of the GlyHCl-treated perovskite films fabricated on 1E-05 0 400 800 1200 1600 Depth (nm) Fig. S6. ToF-SIMS depth profile of EDA 2+ ions in the different perovskite films: No. 1, EDAI2 -0 200 400 600 800 1000 1200 1400 1600 Depth(nm) treated, No. 2, EDAI2/GlyHCl-treated, 1E-04 polarity. 1E-04 1E-03 1E-02 1E-01 1E+00 1E+01 0 400 800 1200 1600 Normalized Intensity Depth (nm) CH6N+ CH5N2+ C2H9N2+ Sn+ SnI+ Cs+ Cs2I+ Pb+ PbI NH4+ Na+ Cs2F+ SnOH+ 1E-05 1E-04 1E-03 1E-02 1E-01 1E+00 0 400 800 1200 1600 Normalized Intensity Depth (nm) I-I2-CsI2-SnI3-PbI3-C8H7SO3-F-Cl-SnO2-SCN-C2H4NO2-CH 6 N + CH 5 N 2 + C 2 H 9 N 2 + Sn + SnI + Cs + Cs 2 I + Pb + PbI + NH 4 + Na + Cs 2 F + SnOH + I --1E+02 1E+01 I 2 -No.1 C2H9N2+ NO. 1 NO. 2 C 2 H 9 N 2 + CsI 2 SnI 3 -PbI 3 -C 8 H 7 SO 3 -F -Cl -SnO 2 -SCN -C 2 H 4 NO 2 -1E-04 1E-03 1E-02 1E-01 1E+00 SnO_2-SCN-C_2H_4NO_ (Gly -) 2-SnO 2 -SCN -C 2 H 4 NO 2 -1E-03 Normalized CsI_2-SnI_3-PbI_3-C_8H_7SO_ 3-F-Cl-CsI 2 -SnI 3 -PbI 3 -C 8 H 7 SO 3 -F -Cl -1E-02 1E-01 1E+00 FTO FTO Normalized Intensity FTO FTO NO. 3 PEDOT:PSS PVSK+GlyHCl EDAI 2 NO. 4 PVSK intensity I-I_2-No.2 C2H9N2+ EDAI 2 EDAI 2 C 2 H 9 N 2 + I -I 2 1E+01 No.3 C2H9N2+ PVSK PVSK+GlyHCl + C 2 H 9 N 2 -No.4 C2H9N2+ PEDOT:PSS PEDOT:PSS C 2 H 9 N 2 + PTAA/PFN-coated FTO substrates measured in negative polarity. /GlyHCl-treated without PEDOT:PSS and No. 4, Control perovskite films. 
 Table S1 . S1 The PL lifetime, PL intensity, peak energy, and FWHM of the PL peaks for the perovskite films fabricated on quartz substrates. 6 2.5x10 7 0.108 Front-side 5 2.0x10 7 excitation (Film surface side) Control EDAI2 2 3 4 PL lifetime (µs) PL lifetime (μs) 2.8 4.5 PL intensity (a.u.) 2.99 × 10 6 1.42 × 10 7 Peak energy (eV) 1.261 1.251 1.0x10 7 1.5x10 7 PL intensity (a.u.) FWHM (meV) 112.1 94.95 0.100 FWHM 0.104 (eV) EDAI2 + GlyHCl 4.9 1.64 × 10 7 1.252 93.58 Back-side 1 5.0x10 6 excitation 0 PL lifetime (μs) PL intensity (a.u.) Peak energy (eV) 0.0 FWHM (meV) 0.096 (Quartz side) Control EDAI 2 EDAI 2 + GlyHCl Control 1.5 2.43 × 10 6 1.246 104.7 EDAI2 3.2 1.29 × 10 7 1.251 102.9 EDAI2 + GlyHCl 5.5 2.12 × 10 7 1.244 98.67 
 Table S2 . S2 The hole and electron trap densities estimated from the SCLC measurements. Hole-only Electron-only Sample devices Thickness VTFL Ntrap (hole) (cm -3 ) devices Thickness VTFL Ntrap (electron) (cm -3 ) (nm) (V) (nm) (V) Control 867 0.63 3.0 × 10 15 817 0.07 3.7 × 10 14 EDAI2 814 0.54 2.9 × 10 15 775 0.07 3.9 × 10 14 EDAI2 + GlyHCl 863 0.36 1.7 × 10 15 828 0.06 2.9 × 10 14 
 Table S3 . S3 Device performance parameters. 35 Current density (mA cm -2 ) %) Sample a Control 0 5 10 15 20 25 30 Control Scan a Forward EDAI 2 EDAI 2 + GlyHCl JSC (mA cm -2 ) 31.6 Reverse 31.6 Forward 31.8 Reverse 31.8 Forward 31.8 Reverse 31.6 Forward 31.8 Reverse 31.8 Forward 31.9 Reverse 31.8 0.50-R 0.50-F 0.05-R 0.15-F 0.15-R w/o w/o 0.05-F b 0.74 0.78 0.82 0.86 0.90 0.94 VOC (V) V OC (V) 0.76 0.78 0.77 0.79 0.77 0.79 0.77 0.78 0.78 0.78 0.50-R 0.15-F 0.15-R 0.50-F w/o-F w/o-R 0.05-F 0.05-R C Control 31.59 31.78 31.72 31.79 31.84 31.80 31.96 31.94 J SC (mA cm -2 ) EDAI 2 EDAI 2 + PCE (%) GlyHCl 19.3 19.1 19.5 18.9 18.9 18.9 19.3 0.85 FF 0.78 0.78 0.78 0.78 0.78 0.79 0.77 0.77 0.78 0.77 0.76 20.35 19.3 0.83 0.77 20.45 0.83 0.74 19.60 0.85 0.78 21.17 19.6 0.75 0.77 18.44 0.77 0.76 18.42 0.77 0.76 18.81 0.78 0.74 18.37 18.8 V OC (V) FF PCE (%) c Forward 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 31.9 d 0.78 0.77 19.3 0.72 0.76 0.80 0.84 0.88 0.80 FF respectively. A saturated solution with a concentration of about 0.3 mg mL -1 EDAI2 formed when 31.6 32.0 32.4 32.8 33.2 Forward 32.1 0.72 18.5 J SC Forward 31.9 0.80 0.72 18.5 Reverse 31.8 0.84 0.79 21.0 prepared without EDAI2, and with 0.05, 0.15, 0.50 mg EDAI2 into 1 mL IPA/toluene (v:v = 1:1), (mA cm Forward 32.2 0.81 0.73 Reverse 32.2 0.83 0.78 20.9 the same batch. w/o, 0.05, 0.15, and 0.50 represent the perovskite films treated with the solution 19.0 -2 ) Reverse 31.7 0.79 0.77 19.2 Forward (av.) 31.8 ± 0.1 0.77 ± 0.01 0.78 ± 0.00 Reverse (av.) 31.7 ± 0.1 0.79 ± 0.01 0.78 ± 0.01 Fig. S38. The J-V curves and the device performance parameters of the solar cells fabricated within 19.3 ± 0.2 19.1 ± 0.2 Voltage (V) 31.2 EDAI2 0.50 mg EDAI2 was added. Control Reverse EDAI Reverse Forward 2 EDAI 32.4 2 + GlyHCl 31.9 32.5 0.68 0.84 0.84 0.82 Control 0.79 0.79 0.72 EDAI 2 EDAI 21.4 2 + GlyHCl 21.1 19.3 Forward 32.2 0.83 0.73 19.5 Reverse 32.3 0.85 0.79 21.7 Forward 32.3 0.82 0.73 19.3 Reverse 32.2 0.84 0.79 21.5 Forward (av.) 32.2 ± 0.2 Reverse (av.) 32.1 ± 0.2 0.81 ± 0.01 0.73 ± 0.01 0.84 ± 0.01 0.79 ± 0.00 19.0 ± 0.7 21.3 ± 0.3 Forward 32.5 0.88 0.79 22.8 Reverse 32.4 0.89 0.82 23.6 Forward 32.4 0.88 0.80 22.8 Reverse 32.3 0.89 0.82 23.5 Forward 32.6 0.88 0.79 22.8 Reverse 32.4 0.89 0.82 23.5 EDAI2 + Forward 32.5 0.88 0.79 22.7 GlyHCl Reverse 32.5 0.89 0.82 23.6 Forward 32.6 0.88 0.80 22.8 Reverse 32.5 0.89 0.82 23.5 Forward 32.6 0.88 0.80 22.9 Reverse 32.6 0.89 0.81 23.5 Forward (av.) 32.5 ± 0.1 Reverse (av.) 32.5 ± 0.1 0.88 ± 0.00 0.79 ± 0.01 0.89 ± 0.00 0.82 ± 0.00 22.8 ± 0.1 23.5 ± 0.0 
 Table S4 . S4 Device performance parameters of nine large area PSCs with 1 cm 2 active device area. Scan a JSC (mA cm -2 ) VOC (V) FF PCE (%) Forward 32.02 0.88 0.70 19.7 Reverse 31.6 0.87 0.69 19.1 Forward 31.8 0.87 0.69 19.2 Reverse 31.5 J SC (mA cm -²) 0.87 V OC (V) FF PCE (%) 0.68 18.5 Forward 32.2 Forward 31.76 0.82 0.88 0.78 20.17 0.68 19.1 Reverse 31.66 0.83 0.77 20.18 Reverse 31.9 0.87 0.67 18.5 Forward 32.0 0.88 0.70 19.6 Reverse 31.5 0.87 0.69 19.0 Forward 33.1 0.88 0.72 21.0 Reverse 32.4 0.88 0.72 20.3 Forward 32.2 0.88 0.73 20.5 Reverse 31.6 0.87 0.72 19.8 Forward 32.1 0.88 0.72 20.3 Reverse 31.5 0.87 0.71 19.6 Forward 32.5 0.88 0.72 20.6 Reverse 31.6 0.88 0.72 19.9 Forward 33.7 0.87 0.67 19.6 Reverse 31.5 0.86 0.75 20.4 Forward (av.) 32.4 ± 0.6 0.87 ± 0.00 0.70 ± 0.02 20.0 ± 0.6 Reverse (av.) 32.7 ± 0.3 0.87 ± 0.01 0.71 ± 0.02 19.5 ± 0.7 
 Table S5 . S5 The Sn 4+ /(Sn 2+ + Sn 4+ ) ratio and binding energy of the Sn 4+ and Sn 2+ peaks, as determined from the deconvolution of the 3d3/2 and 3d5/2 XPS peak manifolds shown in Fig.S45. a 498 Sample 494 Intensity (a. u.) Sn 3d 3/2 498 Intensity (a. u.) Sn 4+ /(Sn 2+ + Sn 4+ ) 486 482 (%) 60 90 Abs. (I Mn 490 120 unit) b 180 PEDOT:PSS 494 Sn 3d 3/2 Sn 4+ 490 Sn 3d 5/2 PEDOT:PSS/Perovskite 486 Sn 3d 5/2 3d3/2 (eV) 150 PEDOT:PSS/Perovskite with GlyHCl 482 498 Intensity (a. u.) Sn 2+ c 494 Sn 3d 3/2 Sn 4+ 490 (eV) Sn 3d 5/2 486 Sn 2+ 482 3d5/2 Binding energy (eV) Control 30 8.5 Binding energy (eV) 496.23 494.77 Binding energy (eV) 487.39 486.29 EDAI2 0 4.1 496.43 494.78 487.24 486.30 EDAI2 + GlyHCl 3.9 318 496.32 319 494.77 487.66 320 486.35 H (mT) 60 
 Table S6 . S6 The number of spins and spin densities for the three PEDOT:PSS samples. Sample a Number of spins Spin density (cm -3 ) PEDOT:PSS 3.60 × 10 13 2.22 × 10 19 PEDOT:PSS/Perovskite 2.21 × 10 13 1.36 × 10 19 PEDOT:PSS/Perovskite + GlyHCl 2.39 × 10 13 1.47 × 10 19 a The films were fabricated on quartz substrates.