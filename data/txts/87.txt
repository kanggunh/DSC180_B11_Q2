Paper #: 87


Materials and Methods 
 Materials All reagents were used as received without further purification. PbI2 (99.999%, Sigma-Aldrich), PbBr2 (99%, Aladdin), PbCl2 (99.99%, Aladdin), CsI (99.99%, Aladdin), HI (45%w, Xilong Scientific), HBr (41%w, Sinopharm), HCl (37%w, Xilong Scientific), methylamine (MA, Water solution 28%w, Sinopharm), formamidine acetate (FAAC, 99%, Aladdin), lithium bis(trifluoromethanesulfonyl) imide (99%, Xi'an Polymer Light Technology Corp.), 2, 2', 7, 7'tetrakis-(N,N-di-p-methoxyphenylamine)-9,9'-spirobifluorene (spiro-MeOTAD, 99%, Xi'an Polymer Light Technology Corp.), 4-tert-butylpyridine (tBP, 99.9%, Sigma-Aldrich), Eu2O3 (99.99%), Y2O3 (99.99%), ferric acetylacetonate (AR), acetylacetone (AR), SnO2 colloid precursor (15% in H2O, Alfa Aesar), TiCl4 (Sigma-Aldrich), titanium diisopropoxide bis(acetylacetonate) (75% in isopropanol, Sigma-Aldrich), benzyl alcohol (AR), diethyl ether (AR), chlorobenzene (99.9%, Sigma-Aldrich), acetonitrile (99.9%, Sigma-Aldrich), N,N-dimethylformamide (DMF, 99.99%, Sigma-Aldrich), dimethyl sulfoxide (DMSO, 99.99%, Sigma-Aldrich), isopropanol (IPA, 99.99%, Sigma-Aldrich), and indium tin oxide (ITO) substrate (Ying kou youxuan Trade Co. Ltd). The MAI, MABr, MAI, FACl, FABr, FAI were synthesized according to the reported method which can be seen everywhere  (52) . The TiO2 was synthesized by using same method in previous report  (3) . 
 Synthesis of Eu(acac)3, Y(acac)3 Eu2O3 (99.99%) and Y2O3 (99.99%) were dissolved in excess hydrochloric acid with stirring and heating. The pH of solution was adjusted to 9-10 by adding NH3•H2O. Excess acetylacetone was added into the solution, and white precipitation formed immediately. The precipitation was washed with deionized water for 3 times. Finally, the product was dried for 20 h in vacuum oven at 70 ○ C. 
 Solar Cells preparation PSCs with typical planar structure ITO/TiO2/perovskite/spiro-OMeTAD/Au for primary test were prepared as follows: ITO (10 Ω/□) coated glass substrates were cleaned sequentially in deionized water, acetone and isopropanol. Before TiO2 deposition, the substrate was cleaned by UV-ozone cleaner for 10 min. Then TiO2 layer was deposited by spin coating (3000 r/m) the above TiO2 nanoparticles ethanol solution mixing with titanium diisopropoxide bis(acetylacetonate) (1 μL/mg), then followed an annealing process at 150 °C for 40 min in air. Perovskite layer was prepared by a typical two-step method. The metal ions incorporated PbI2 precursor solution (1.0 mmol/mL in DMF) was prepared by adding M(acac)3 (dissolved in DMF, 50 μmol/mL) solution, then spincoated on the TiO2 substrate at 2,600 r/min for 30 s, followed annealing process at 70 °C for 1 min. The cation solution in isopropyl alcohol (IPA) containing MAI, MACl (50 mg/mL, 5 mg/mL) was spin-coated at 2,100 r/min for 30 s, and annealed at 150 °C for 15 min. The hole-transport layer was prepared by spin-coating spiro-MeOTAD (80 mg/mL in chlorobenzene) solution containing tertbutylpyridine (35 μL/mL) and lithium bis(trifluoromethanesulfonyl) imide (20 mM) additives. 100 nm gold electrodes were deposited by thermal evaporation under high vacuum. Changes have been made to the devices for light stability test under 1 sun illumination, and thermal stability test, as well as the champion PCE. Firstly, the electron transport layer (ETL) was changed to SnO2 for its better stability than TiO2, then hole transport layer (HTL) was replaced by polymer modified spiro-MeOTAD to achieve better performance and stability. The composition of perovskite layer was changed to mixed A-site cations and halides system. In devices for champion PCE, the detail composition was as follows: PbX2 layer (CsI 20 mg, PbI2 530 mg, PbBr2 20 mg, PbCl2 20 mg, MAI 5 mg dissolved in 900 μL DMF and 100 μL DMSO mixed solvent); organic cation layer (MAI 20 mg, FAI 40 mg, MABr 3 mg, MACl 5 mg dissolved in 1 mL IPA). For light and thermal stability test, the MAI in organic cation solution was been entirely replaced by FAI due to the more volatile characteristics of MA + than FA + . 
 Characterization The J-V curves were measured with a source meter (Keithley 2400) with a solar simulator (Newport, Oriel Class A, 91195A) under 1000 W/m 2 illumination (AM 1.5 G) which was calibrated by a silicon reference cell certificated by NREL. The J-V curves were measured in reverse (1.2 V to 0.2 V) or forward (0.2 V to 1.2 V) scanning modes with step 0.01 V and 0.5 s time delay (scanning speed, 20 mV/s). The J-V curve of each device was measured by masking the active area with a metal mask (certified area is 0.09408 cm 2 ). X-ray photoelectron spectroscopy (XPS) data were obtained by Axis Ultra XPS spectrometer (Kratos, U.K.) with Kα radiation of Al, and operated at 225 W. The binding energy (BE) was calibrated by the peak at 284.8 eV of C 1s spectra. SEM images were obtained with field emission scanning electron microscope (3 keV, MERLIN Compact, ZEISS Germany). The XRD data were collected with X-ray powder diffractometer with Cu Kα radiation (PANalytical X'Pert Pro, λ = 1.54050 Å). FTIR was obtained by Magna-IR 750 (Nicolet, USA). Photoluminescence and time-resolved photoluminescence characterization were performed on FLS980 (Edinburgh Instruments Ltd.). The Grazing-incidence wide-angle X-ray scattering (GIWAXS) measurements were performed at the BL14B1 beamline of Shanghai Synchrotron Radiation Facility (SSRF). The EPR measurements were performed on a Bruker Elexsys E580 Xband pulsed-EPR spectrometer. The UV-Vis absorption spectra were obtained on UV3600Plus (Shimadzu, Japan). IPCE was performed on Newport/Oriel Instruments. 
 DFT Calculation method Through CASTEP package codes  (53) , the density-functional theory (DFT) was applied for the calculations of potential energy and interface properties. The generalized-gradient approximation (GGA)  (54)  and Perdew-Burke-Ernzerhof (PBE) (55) functionals will be chosen with 480 eV cutoff energy. To describe the ex-change correlation energy and potential, Ultrasoft pseudopotential with Rappe-Rabe-Kaxiras-Joannopoulos (RRKJ) method optimization was used  (56) . For the redox reaction, different net charge states (1, 0, +2, and +3) have been calculated individually. For all the energy calculations, the convergence settings are as follows, total energy is less than 5.0 × 10 5 eV/atom, maximum ionic force and maximum ionic displacement will not exceed 0.1 eV/Å and 5.0 × 10 3 Å, respectively. 
 Supplementary Text The proposed "redox shuttle" In a complete device, it is difficult/impractical to solve the inner degradation via additional aftertreatments, which may need reconstruction of devices. Sustainable "redox shuttle" in the active layer might potentially address the intrinsic degradation. An ideal "redox shuttle" for both perovskite and other similar soft semiconductor materials requires: 1) to selectively oxidize or reduce the generated elementary defects, 2) not to introduce additional deep level defects. Many factors are expected to be taken into consideration for these requirements: such as suitable redox potential, valence state, ionic radius, electronic structure, coordination environment etc. Defect concentration of Pb 0 and I 0 in generation and elimination process In a typical closed redox reaction, the "redox shuttle" can transfer electrons from Pb 0 to I 0 defects in a cyclical manner, wherein the Eu 3+ oxidizes Pb 0 to Pb 2+ to form Eu 2+ that simultaneously reduces I 0 to I -(Fig.  1F ). As a result, Pb 0 and I 0 defects in PSCs are eliminated simultaneously in a sustainable manner. Some detailed discussions are as follows: In previous report  (33) , the typical proposed degradation process of CH3NH3PbI3 perovskite under light can be expressed as follows: CH3NH3PbI3 → CH3NH2 + HI + PbI2 eqn S1 PbI2 → Pb 0 + 2I 0 eqn S2 It shows that the generated amount of I 0 is twice as high as Pb 0 . In lead iodine perovskite materials, the I and Pb elements are much more variable in chemical valence than other elements or group such as Cs + , MA + or FA + , which are redox-inert. The charge transfer in the redox reaction should obey charge conservation rule. We could reasonably deduce that the amount of I 0 should be twice as that of Pb 0 involved. Similarly, the elimination process of Pb 0 and I 0 could also obey the charge conservation rule. Regardless of the involvement of Eu 3+ /Eu 2+ ion pair, the Pb 0 and twice amount of I 0 would be eliminated at same time. The results of XPS measurement provide further evidence. As shown in the above proposed perovskite decomposition mechanism (eqn S1 and S2), the iodine species (HI and I 0 ) are all volatile, which follows the 1:2 molar ratio. We checked the total change of iodine (ΔI) and lead (ΔPb 0 ) in the film when Eu was added. It follows the equation as follows: ΔI = I/Pb (in Eu 3+ based film) -I/Pb (in reference film) ΔPb 0 = Pb 0 /(Pb 0 + Pb 2+ ) (in reference film) -Pb 0 /(Pb 0 + Pb 2+ ) (in Eu 3+ based film) In reference perovskite film, it is very likely that I 0 will be evaporated during the annealing process, further reducing the I 0 concentration in the resultant film, and the defect concentration of metallic Pb is much higher than I 0 in the typical CH3NH3PbI3 film, due to the fact that the nonvolatile Pb 0 would accumulate in the perovskite film, and the volatile I 0 would evaporate into the surrounding environment. The situation may be different in the Eu 3+ introduced film. The corresponding XPS results (Fig.  2  and table S1 ) show the Pb 0 /(Pb 0 + Pb 2+ ) is 1.4% and I/Pb ratio is 2.93 upon Eu addition, as compared to the reference film of the value of 5.4% and 2.79, respectively. We could calculate the ΔI/ΔPb 0 = 3.5. It shows the change of iodine (ΔI) is three times the change of lead (ΔPb 0 ) during degradation process, clearly indicating the I 0 species preserved is twice of Pb 0 species that is consumed upon redox shuttle addition. After both light and thermal aging test for more than 1000 hours, the Pb 0 /(Pb 0 + Pb 2+ ) ratio is still much lower and the I/Pb ratio is much higher compared with reference film, as shown in Table  S3 . The preserved iodine component in the Eu 3+ /Eu 2+ based film suggests a close redox shuttle formed cyclically. We still noticed that after intensive aging test, I/Pb ratio in the Eu 3+ based film decreased to some extent, and one possible escaping species could be the "HI" that is not involved in the redox reaction. -Furthermore, it may be more reasonable to use "→" instead of "=" in the proposed redox equation. This is mainly because the species of I 0 could be in the form of I2, single atom I 0 or I3 , and a chemical balance exists between these different species according to our knowledge and previous reports  (31) . The state of Eu 3+ /Eu 2+ redox shuttle in the film With respect to the possibility for a replacement between Eu 2+ and Pb 2+ , as claimed in the main text "Given their similar radius of Eu 2+ (117 pm) and Pb 2+ (119 pm) however, we cannot confidently rule out the possibility that Eu 2+ replaces Pb 2+ at B site, wherein direct evidence is expecting." Due to the small content of Eu 2+ in the film, and detection limitation of the XRD and X-ray absorption fine structure (XAFS), it is still difficult for us to provide clear experimental evidence. Here, we discussed this issue in detail as follows. Firstly, we consider that the possibility for Eu 3+ /Eu 2+ substitution at Pb 2+ site in the bulk perovskite crystal can be ruled out. This was because that when the Eu 3+ /Eu 2+ was introduced in the CH3NH3PbI3 materials system, neither extra diffraction peaks of other species or phases, nor obvious shift of diffraction peak from CH3NH3PbI3 materials could be observed from the XRD results (figs.  S2-4 ). This phenomenon is consistent when Eu 3+ /Eu 2+ content increased from 0.15% to 4.8% (figs. S4). This result represents that the introduction of Eu 3+ /Eu 2+ would not bring new phases/species, as well as detectable ion substitution, e.g. Eu 3+ /Pb 2+ or Eu 2+ /Pb 2+ in the bulk perovskite. The XRD result is also consistent with the XPS result (table  S1 , Fig.  2A-E ), wherein the Eu 3+ /Eu 2+ ions were found to be concentrated near the film surface, as the detected Eu/Pb ratio was much higher than the precursor ratio. It should be noted that the percentage of reduced species Eu 2+ over the total europium content is 36%, which means Eu 2+ was also accumulated on the film surface. This result suggests that the possibility for Eu 3+ /Eu 2+ substitution in the bulk perovskite crystal is very low. Secondly, we cannot theoretically rule out the possibility that Eu 2+ replaces Pb 2+ at B site from the viewpoint of microscopic structure. This was supported by some visible variation of the XRD peak of perovskite film induced by Eu 3+ /Eu 2+ introduction. Especially, as shown in fig.  S2 , the relative intensity of diffraction peak located at 28.11° which are attributed to (004) of tetragonal phase decreased obviously when the 1% Eu 3+ was introduced into perovskite film. This is consistent with 1% Fe 3+ based perovskite film, as the intensity of (004) crystallographic plane was decreased similarly. However, this phenomenon was not observed in Y 3+ and acetylacetone species introduced perovskite film. This difference might be attributed to the reducing species, divalent Eu 2+ , Fe 2+ , with the same valence as Pb 2+ , which could probably affect the microstructure of perovskite materials. Yet we don't know whether the divalent ions could partially substitute Pb 2+ or not on the grain surface. Given the different coordination environment on the grain surface compared to the crystal bulk, and the similar radius of Eu 2+ (117 pm) and Pb 2+ (119 pm), we could not exclude the possibility that Eu 2+ partially substitute Pb 2+ on the grain surface. In addition, europium iodine based organic-inorganic perovskite such as (C4H9NH3)2EuI4  (47)  and lanthanide ions doped CsPbX3 perovskite nanocrystals (48) could be found in previous reports. This also suggests there is a possibility for a replacement for Pb 2+ by Eu 2+ , wherein the direct evidence is expecting.              Total IV measurement time under these conditions was approximately 60 min  (49) .    The components with soft nature in the metal halide perovskite absorber usually generate lead (Pb) 0 and iodine (I) 0 defects during device fabrication and operation. These defects serve as not only recombination centers to deteriorate device efficiency but also degradation initiators to hamper device lifetimes. We show that the europium ion pair Eu 3+ -Eu 2+ acts as the "redox shuttle" that selectively oxidized Pb 0 and reduced I 0 defects simultaneously in a cyclical transition. The resultant device achieves a power conversion efficiency (PCE) of 21.52% (certified 20.52%) with substantially improved long-term durability. The devices retained 92% and 89% of the peak PCE under 1-sun continuous illumination or heating at 85°C for 1500 hours and 91% of the original stable PCE after maximum power point tracking for 500 hours, respectively. 
 D evice lifetime and power conversion efficiency (PCE) are the key factors determining the final cost of the electricity that solar cells generate. The certified PCE of perovskite solar cells (PSCs) has rapidly reached 23.7% over the past few years (1-9), which is on par with that of polycrystalline silicon and Cu(In,Ga)Se 2 solar cells, but poor device stability (10-12) under operating conditions prevents the perovskite photovoltaics from occupying even a tiny market share  (13, 14) . Generally, commercial solar cells come with a warranty of a 20-to 25-year lifetime with a less than 10% drop of PCE, which corresponds to an average degradation rate of ~0.5% per year  (15) . Compared with those inorganic photovoltaic materials-e.g., silicon (IV group) and CIGS (I-III-VI group) (16)-the elements or components are mostly large and more polarized in organic-inorganic halide perovskite materials, such as I -, methylammonium (MA + ), and Pb 2+ . They construct a soft crystal lattice prone to deform  (17)  and vulnerable to various aging stresses such as oxygen, moisture  (18, 19) , and ultraviolet (UV) exposure  (20, 21) . By encapsulation  (22) (23) (24) , interface modification  (13, (25) (26) (27) (28) (29) , and UV filtration, the device lifetime can be prolonged by the temporary exclusion of these external environmental factors. However, some aging stresses cannot be avoided during device operation, including light illumination, electric field, and thermal stress, upon which both I -and Pb 2+ in perovskites become chemically reactive to initiate the decomposition even if they are well encapsulated  (30) . Because of the soft nature of I -, Pb 2+ ions, and Pb-I bonding, intrinsic degradation would occur in perovskite materials upon various excitation stresses, which finally induce PCE deterioration. On one hand, I -is easily oxidized to I 0 , which not only serve as carrier recombination centers but also initiate chemical chain reactions to accelerate the degradation in perovskite layers  (31) . On the other hand, Pb 2+ is prone to be reduced to metallic Pb 0 upon heating or illumination, which has been observed in Pb halide perovskite films  (32, 33) . Pb 0 is a primary deep defect state that severely degrades the performance of perovskite optoelectronic devices  (34, 35) , as well as their longterm durability  (36) . Furthermore, most soft inorganic semiconductors are suffering similar instability, such as PbS (37), PbI 2  (38, 39) , and AgBr (40), among others. Several attempts have been reported to eliminate either Pb 0 or I 0 defects, like optimizing film processing  (41)  and additive engineering  (42) (43) (44) . To date, these additives are mostly sacrificial agents specific for one kind of defects, which diminish soon after they take effects. Long-term operational durability requires the simultaneous elimination of both Pb 0 and I 0 defects in perovskite materials in a sustainable manner. We demonstrated constant elimination of Pb 0 and I 0 simultaneously in PSCs over their life span, which leads to exceptional stability improvement and high PCE through incorporation of the ion pair of Eu 3+ (f 6 ) ↔ Eu 2+ (f 7 ) as the redox shuttle. In this cyclic redox transition, Pb 0 defects could be oxidized by Eu 3+ , while I 0 defects could be reduced by Eu 2+ at same time. The Eu 3+ -Eu 2+ pair is not consumed during device operation, probably because of its nonvolatility and the suitable redox potential in this cyclic transition. Thus, the champion PCE of the corresponding device was promoted to 21.52% (certified, 20.52%) with negligible current density-voltage (J-V) hysteresis. Devices with the Eu 3+ -Eu 2+ ion pair exhibited excellent shelf lifetime and thermal and light stability, which suggests that this approach may provide a universal solution to the inevitable degradation issue during device operation. The reaction between Pb 0 and I 0 is thermodynamically favored and has a standard molar Gibbs formation energy for PbI 2 (s) of -173.6 kJ/mol  (45) , which provides the driving force for eliminating both defects. However, simply mixing metallic Pb and I 2 powder only led to limited formation of PbI 2 , which suggests the presence of kinetic barriers at room temperature. To enable elimination of Pb 0 and I 0 defects in PSCs simultaneously across device life span, we propose the "redox shuttle" to oxidize Pb 0 and reduce I 0 independently, wherein they can be regenerated during the complete circle. It requires selectively oxidizing Pb 0 and reducing I 0 defects without introducing additional deep-level defects. After finely screening many possible redox shuttle additives, the rare earth ion pair of Eu 3+ -Eu 2+ was identified as the best candidate, mostly owing to their appropriate redox potentials. Eu 3+ could easily be reduced to Eu 2+ with the stable half-full f 7 electron configuration to form the naturally associated ion pair. The redox shuttle can transfer electrons from Pb 0 to I 0 defects in a cyclical manner, wherein the Eu 3+ oxidizes Pb 0 to Pb 2+ and the formed Eu 2+ simultaneously reduces I 0 to I -(Fig.  1F ). Thus, each ion in this pair is mutually replenished during defects elimination. The proposed redox shuttle eliminates corresponding defects on the basis of the following two chemical reactions: 2Eu 3+ + Pb 0 → 2Eu 2+ + Pb 2+ (1) Eu 2+ + I 0 → Eu 3+ + I - (2) We first explored the feasibility of the Eu 3+ -Eu 2+ ion pair to promote electron transfer from Pb 0 to I 0 in solution (Fig.  1A ) by dispersing I 2 (25 mg) powder and metallic Pb powder (25 mg) in 2 ml of N,N-dimethylformamide (DMF) and isopropanol (IPA) that had a volume ratio of 1:10 as a reference solution. The Eu 3+ -Eu 2+ ion pair was incorporated by further adding europium acetylacetonate [Eu(acac) 3 ] (11 mg) into the 2-ml solution. Under continuous stirring at 100°C, the sample solution gradually turned from black to colorless with a large amount of yellow precipitates after 60 min, whereas the reference solution remained dark brown with little evidence of yellow precipitates. UV-visible (UV-vis) spectra of the reference solution exhibited an absorption peak at ~370 nm (Fig.  1B ), which we attributed to the presence of an I 0 species (36) that was absent in the sample solution, which had an absorption peak at ~290 nm that we attributed to a PbI x species. Both the I 0 and Pb 0 species were effectively converted to I -and Pb 2+ upon Eu 3+ addition. An x-ray diffraction (XRD) measurement on the precipitates revealed both PbI 2 (12.7°, 25.9°, 39.5°) and metallic Pb (31.3°, 36.2°, 52.2°) species in both cases (Fig.  1C ). In the sample, the characteristic peak intensity ratio of PbI 2 to metallic Pb was larger than that of the reference. This result further confirmed that Eu 3+ could accelerate the conversion of Pb 0 and I 0 to Pb 2+ and I -, respectively. When we added Eu(acac) 3 to the CH 3 NH 3 I solution of water/chloroform, we observed no I 0 species absorption peak in the corresponding UV-vis spectrum (Fig.  1D ), showing that Eu 3+ selectively oxidizes Pb 0 rather than I -. The stronger oxidizing agent of Fe 3+ oxidized I -species, and the absorption peak of I 0 was present. We verified that Eu 3+ was reduced to paramagnetic Eu 2+ in CH 3 NH 3 PbI 3 (MAPbI 3 ) perovskite films with 1% (Eu/Pb, molar ratio) Eu 3+ incorporated, which showed a strong signal in electron paramagnetic resonance (EPR) measurements (Fig.  1E ) that was absent in Eu 2 O 3 and in the reference MAPbI 3 film. We compared the effect of Eu 3+ by studying other ions, including redox-inert Y 3+ and strong oxidizing Fe 3+ , by preparing film samples incorporated with 1% metal ions (M/Pb, molar ratio) and performed high-resolution x-ray photoelectron spectroscopy (XPS) analysis to elucidate the potential effects on both Pb 0 and I 0 defects. As shown in Fig.  2A , the binding energy (BE) at 142.8 and 137.9 eV were assigned to 4f 5/2 , 4f 7/2 of divalent Pb 2+ , respectively, and the two shoulder peaks at 141.3 and 136.4 eV around lower BE were associated with metallic Pb 0 . We calculated the intensity ratio of Pb 0 /(Pb 0 + Pb 2+ ) for three metal-incorporated samples and the reference to observe a notable tendency (Fig.  2, A  and D , and table  S1 ). The Pb 0 intensity ratio in reference reached 5.4%, which is comparable to that of Y 3+ -incorporated film. This ratio in the perovskite film with oxidative Eu 3+ and Fe 3+ additives was reduced to nearly 1.0%, indicating that metallic Pb 0 was successfully oxidized. With respect to I 0 species, it is difficult to obtain I 0 /(I 0 + I -) ratio by peak fitting accurately 2 of 6 because I 0 species are volatile during the annealing process of perovskite film preparation. Thus, we examined the ratio of I/Pb and BE shift to monitor the iodine evolution indirectly. As shown in Fig.  2, B  and E , and table S1, we observed the similar I/Pb ratio in the reference and the Y 3+incorporated sample but a much lower ratio in the Fe 3+ sample. Incorporation of Fe 3+ likely generated I 0 species that were released. A higher I/Pb ratio was observed in the Eu 3+ sample compared with the reference, possibly indicating less volatile I 0 species produced in the corresponding film. Furthermore, the BE of I 3d 3/2 further confirmed the argument, wherein it shifted toward a higher value of 0.3 eV in Fe 3+ sample but lower 0.2 eV in Eu 3+ sample as compared with the reference. Given the lower BE of I -, it clearly showed that I -was well preserved in the Eu 3+ sample. In addition, Eu 2+ was 36% of the total Eu content, which further confirmed the Eu 3+ -Eu 2+ ion pair working as a redox shuttle (Fig.  2C ). According to the charge conservation rule, the amount of I 0 should be twice that of Pb 0 involved in the entire redox reaction. Iodine species (HI and I 2 ) are all volatile, which follows the 1:2 molar ratio  (33) . We checked the total change in the amount of iodine (DI) and lead (DPb 0 ) in the film upon the addition of Eu(acac) 3 , wherein DI/DPb 0 was calculated to be 3.5 (see table  S1  and supplementary text). The change in the amount of iodine (DI) was about three times that of lead (DPb 0 ) during the degradation process, indicating that the amount of I 0 species preserved was twice that of Pb 0 species consumed upon redox shuttle addition. In the context of a redox reaction, the standard electrode potential (E q ) is often used as a reference point to rationally predict the occurrence of the reaction. According to the E q of each half reaction involved (which may deviate in solid materials) (table  S2 ), Fe 3+ is too oxidative and oxidizes Pb 0 and I -simultaneously. On the contrary, Eu 3+ exhibited the suitable E q to selectively oxidize Pb 0 without I -oxidation, while the reduction product of Eu 2+ reduced I 0 to I - at same time. Thus, the constant elimination of Pb 0 and I 0 defects still preserved the Eu 3+ -Eu 2+ ion pair. We examined the effectiveness of Eu 3+ -Eu 2+ redox shuttle in the film. Metallic Pb 0 is the major accumulated defect in aged perovskite films because of its nonvolatility  (33) . The content of Pb 0 is a measure of the extent of decomposition in the perovskite film. When the sample was subjected to 1 sun illumination or 85 ○ C aging condition for more than 1000 hours, the Pb 0 /(Pb 0 + Pb 2+ ) ratio in films with redox shuttle were 2.5% or 2.7%, compared with 7.4% or 11.3% in the reference film, respectively, as shown in fig.  S1  and table  S3 . The redox shuttle can preserve the I/Pb ratio in the aged film. Meanwhile, the corresponding I/Pb ratio in Eu 3+ -incorporated film was 2.68 or 2.57 as compared with that of reference 2.30 or 2.13, indicating the perovskite film was well preserved. We also examined the crystallographic and optoelectronic properties perovskite films with the redox shuttle. According to XRD results, the phase structure was retained in the perovskite films with improved crystallinity upon Eu 3+ addition (figs. S2 to S4). No residual acetylacetonate anion was detected by XPS and Fourier transform infrared spectroscopy measurement (figs. S5 and S6). The Eu 3+ -Eu 2+ ions were concentrated near the film surface, wherein the detected Eu/Pb ratio was much higher than the precursor ratio (table  S1 ). When the Eu(acac) 3 was introduced from 0.15 to 4.8%, we observed neither extra diffraction peaks nor an obvious shift of diffraction peaks in the XRD patterns (figs. S2 to S4), which indicates that Eu 3+ -Eu 2+ ions may not necessarily accommodate in the crystal lattice. Given the similar radius of Eu 2+ [117 pm  (46) ] and Pb 2+ (119 pm), however, we cannot confidently rule out the possibility that Eu 2+ replaces Pb 2+ at B site, wherein direct evidence is expected. In addition, europium-iodine-based organic-inorganic perovskite  (47)  and lanthanide ions doped CsPbX 3 perovskite nanocrystals were found in previous reports  (48) . The morphology and grain size of the perovskite film with the tiny amount redox shuttle remained similar to the reference (Fig.  3A  and fig.  S7 ). Also, we did not 3 of 6 observe obvious orientation variation by synchrotron grazing-incidence wide-angle x-ray scattering (GIWAXS) analysis (Fig.  3B  and fig.  S8 ). In addition, the optical bandgap of the perovskite film upon Eu 3+ addition was calculated to be 1.55 eV, similar to that of the reference (fig.  S9 ). The photoluminescence (PL) intensity (fig.  S10 ) and carrier lifetime (Fig.  3C ) increased in the perovskite film with the incorporation of Eu 3+ , indicating the decrease of nonradiative recombination centers from defects elimination. The improvement of the morphology and grain size could also lead to the increased PL lifetime, so the defects reduction should be further confirmed by other methods. We used the space charge-limited current (SCLC) measurement to quantify the defect density N defects of 5.1 × 10 15 and 1.5 × 10 16 cm -3 for Eu 3+ -incorporated samples and the reference, respectively (Fig.  3D ). We studied the influence of the Eu 3+ -Eu 2+ ion pair on the formation energies of redox reaction, lattice stability, and energy band structure by density functional theory (DFT) calculations. To construct the model, a small fraction of metal ions (Eu 3+ ) was intercalated into two adjacent lattices (Fig.  3E ), given the observation Eu was concentrated at surfaces and grain boundaries. The formation energies for defects elimination (Eqs. 1 and 2) were calculated (Fig.  3F ). For both reference and Eu 3+ -incorporated systems, the half reactions related to Pb 0 elimination required a substantially high potential energy as the main barrier, whereas the I 0 elimination half reactions were comparably favorable. However, after introducing Eu species at the interface, the barrier in Pb 0 elimination half reactions was greatly decreased, but the barrier for I 0 elimination half reactions decreased only slightly. With the assistance of Eu species at the interface, the overall redox potential energy has been much lowered, representing an energetical stabilization trend for the charge-transfer reaction (Fig.  3F ). We also compared the thermodynamic properties for reference and Eu-incorporated systems. Figure  3G  shows that the MAPbI 3 with Eu incorporation has a steeper slope in change of free energy DG than in that of reference, meaning that Eu-incorporated MAPbI 3 shows a more energetically favorable physicochemical trend than pure MAPbI 3 does. Additionally, it reveals Eu incorporation in MAPbI 3 materials did not bring in obvious electronic disorders as extra traps (fig.  S11 ). We incorporated the perovskite absorber equipped with the redox shuttle in two device configurations. One is based on ITO/TiO 2 / perovskite/spiro-OMeTAD/Au, wherein spiro-OMeTAD refers to 2,2′,7,7′-tetrakis-(N,N-di-pmethoxyphenylamine)-9,9′-spirobifluorene, with MAPbI 3 (Cl). The other is based on ITO/SnO 2 / perovskite/spiro-OMeTAD (modified)/Au for higher PCE and stability, with (FA,MA,Cs)Pb(I,Br) 3 (Cl), in which FA is formamidinium. Both perovskites were deposited by means of a traditional two-step method, during which Eu(acac) 3 or other additives were added in PbI 2 /DMF precursor solution. The two devices showed similar trends (Fig.  4A  and fig.  S12 ). The Eu 3+ -incorporated devices exhibited the best PCE, whereas the Fe 3+ -incorporated devices suffered from the markedly decreased PCE. The average PCE increased from 18.5 to 20.7% in the mixed perovskite upon Eu 3+ addition (Fig.  4A ), which is attributed to the effective defects elimination. We attributed the decreased PCE in Fe 3+ -incorporated devices to the additional I 0 defects introduced by oxidation. One of the optimized devices achieved the PCE of 21.52% (reverse 21.89%, forward 21.15%) (Fig.  4B ) with negligible hysteresis (certified reverse 20.73%, forward 20.30%, average 20.52%, certificate attached in fig.  S13 ). The measured stable output at maximum point (0.97 V) was 20.9%. Integrating the overlap of the incident-photon-to-currentefficiency spectrum of Eu 3+ -incorporated PSCs under the AM 1.5-G solar photon flux generated the current density of 23.2 mA•cm -2 (fig.  S14 ). The stabilized J-V performance of PSCs was evaluated as follows  (49) : parameters are measured under a 13-point IV sweep configuration wherein the bias voltage (current for open circuit voltage V OC determination) is held constant until the measured current (voltage for V OC ) was determined to be unchanging at the 0.05% level. The original, stabilized, and poststabilized efficiency of Eu 3+ -incorporated PSCs tested by third-party certification institution were similar, which indicates the stable characteristics of the devices (fig.  S15 ). The shelf lifetime of the corresponding devices was investigated, wherein the PCE evolution was descripted for solar cells stored in an inert environment (Fig.  4C ). With the Eu 3+ -Eu 2+ redox shuttle incorporated, the devices maintained 90% of the original PCE even after 8000 hours storage because of improved long-term V OC , short-circuit current density (J SC ) and fill factor (FF) stability (fig.  S16 ). Although the stability of Y 3+ -incorporated PSCs was comparable to the reference, Fe 3+ -incorporated PSC showed severely deteriorated stability, which lost the photoelectric conversion capability completely after merely 2000 hours of storage. To estimate the stability of Eu 3+ -incorporated PSCs under operational conditions, half solar cells were subjected to either continuous 1 sun illumination or 85°C aging condition, respectively (Fig.  4D ), in which the top charge-transfer materials and electrode were deposited after aging test. Improved long-term V OC and FF stability (fig.  S17 ) allowed the devices, after 1000 hours, to retain 93% of the original PCE continuous 1 sun illumination or 91% after heating at 85°C. Several previous studies showed that smallmolecule spiro-OMeTAD would crystallize under thermal stress and create pathways that allow for an interaction of the perovskite and the metal electrode  (50, 51) . By modifying the holetransport materials (spiro-OMeTAD) with conductive polymer poly(triarylamine), the full devices incorporated with the Eu 3+ -Eu 2+ ion pair maintained 92% and 89% of the original PCE because of obvious long-term V OC and FF stability improvement (fig.  S18 ) under the same light or thermal stress for 1500 hours, respectively (Fig.  4E ). Furthermore, the Eu 3+ -incorporated full devices could maintain 91% of the original stable PCE tracked at maximum power point (MPP) for 500 hours (Fig.  4F ).   Fig. S1 S1 Fig. S1The Pb 4f, I 3d high-resolution XPS spectra of perovskite films incorporated with 1% Eu 3+ , which were placed under 1 sun illumination or 85 °C heating condition for 1000 hours. 
 Fig. S2 . S2 Fig. S2. XRD results of 1% M/Pb different metal ions incorporated MAPbI3 perovskite films. 
 Fig. S3 . S3 Fig. S3. XRD results of 4.8% M/Pb different metal ions incorporated MAPbI3 perovskite films. 
 Fig. S4 . S4 Fig. S4. XRD results of different ratio Eu 3+ (Eu/Pb, 0-4.8%) incorporated MAPbI3 perovskite films. 
 Fig. S5 . S5 Fig. S5. XPS spectra of 1% Eu 3+ incorporated MAPbI3 perovskite films. 
 Fig. S6 . S6 Fig. S6. FTIR spectra of different pure metal acetylacetonate salts solid and MAPbI3 perovskite films incorporated with/without Eu(acac)3. 
 Fig. S7 . S7 Fig. S7. SEM images of 0.30-2.4% Eu/Pb incorporated perovskite films. (A) 0.30%. (B) 0.6%. (C) 1.2%. (D) 2.4%. 
 Fig. S8 . S8 Fig. S8. GIWAXS data of Y 3+ and Fe 3+ incorporated perovskite films.. 
 Fig. S10 . S10 Fig. S10. PL of 0.15% different metal ions (M = Eu 3+ , Y 3+ , Fe 3+ ) incorporated and reference perovskite films. 
 Fig. S11 . S11 Fig. S11. The interface energies of CH3NH3PbI3 incorporated with Eu. The inset shows the projected density of states (PDOSs) of this system. 
 Fig. S12 . S12 Fig. S12. Original devices performance of PSCs incorporated with 0.15% different metal ions (M = Eu 3+ , Y 3+ , Fe 3+ ) based on MAPbI3(Cl) perovskite absorbers. 
 Fig. S13 . S13 Fig. S13. The performance result of 0.15% Eu 3+ incorporated device based on (FA,MA,Cs)Pb(I,Br)3(Cl) perovskite certified by National Institute of Metrology (China). The current voltage scan is performed from 1.2 V to 0.1 V (reverse scan, PCE = 20.73%, VOC = 1.15 V, ISC = 2.18 mA, and FF = 77.8%) and 0.1 V to 1.2 V (forward scan, PCE = 20.30%, VOC = 1.13 V, ISC = 2.18 mA, and FF = 77.4%) at 30 mV/s with 10 mV voltage interval. The certified active area of mask is 0.09408 cm 2 . 
 Fig. S14 . S14 Fig. S14. Incident-photon-to-current-efficiency (IPCE) spectrum of 0.15% Eu 3+ incorporated PSCs. 
 Fig. S15 . S15 Fig. S15. Performance parameters of solar cells incorporated with 0.15% Eu 3+ , tested by Newport Technology and Application Center PV Lab (USA). Reported performance parameters were measured under a 13 point IV sweep configuration wherein the bias voltage (current for VOC determination) is held constant until the measured current (voltage for VOC) is determined to be unchanging at the 0.05% level. This is intended to represent the stabilized performance of the device. 
 Fig. S16 . S16 Fig. S16. Parameters of (A) VOC, (B) JSC and (C) FF change in long-term stability tests of PSCs based on MAPbI3(Cl) perovskite absorber with the incorporation of 0.15% different acetylacetonate metal salts (M(acac)3, M = Eu 3+ , Y 3+ , Fe 3+ ), stored in inert atmosphere. 
 Fig. S17 . S17 Fig. S17. Parameters of (A) VOC, (B) JSC and (C) FF evolution of 0.15% Eu 3+ incorporated and reference half devices under 1 sun illumination or 85 C heating condition. 
 Fig. S18 . S18 Fig. S18. Parameters (A)VOC, (B) JSC and (C) FF evolution of 0.15% Eu 3+ incorporated and reference full devices under 1 sun illumination or 85 C heating condition. 
 Fig. 1 . 1 Fig. 1. Eu 3+ -Eu 2+ ion pair promotes the conversion of Pb 0 and I 0 to Pb 2+ and I -in solution and perovskite film. (A) I 0 and Pb 0 powder dispersed in mixed DMF/IPA solvent (volume ratio 1:10) with or without Eu 3+ [Eu(acac) 3 ], and the solutions were stirred at 100°C. (B) The UV-vis absorption spectra of the upper solution and (C) XRD patterns of the bottom precipitation from the sample and reference solutions (after 60 min) shown in (A). (D) The representative solution and the absorption spectra of bottom layer in which MAI mixed with Eu 3+ or Fe 3+ dissolved in water/chloroform. (E) EPR spectra of MAPbI 3 film with or without Eu 3+ incorporation and Eu 2 O 3 sample, for which the value of proportionality factor (g-factor) is 2.0023. (F) Proposed mechanism diagram of cyclically elimination of Pb 0 and I 0 defects and regeneration of Eu 3+ -Eu 2+ metal ion pair. a.u., arbitrary units; Ref, reference. 
 Fig. 2 . 2 Fig. 2. High-resolution XPS spectra of Pb 4f, I 3d, and the Eu 3d of perovskite films with the incorporation of 1% M/Pb different acetylacetonate metal salts [M(acac) 3 , M = Eu 3+ , Y 3+ , Fe 3+ ]. (A) Pb 4f spectra, the insertions are the enlarged spectra of Pb 0 4f. (B) I 3d spectra. (C) Eu 3d spectra. (D) Fitted results of the Pb 0 /(Pb 0 +Pb 2+ ) ratio. (E) Fitted results of I/Pb ratio. 
 Fig. 3 . 3 Fig. 3. Influence of morphology, orientation, electronic structure, carrier behaviors of Eu 3+ -incorporated perovskite film, and results of DFT calculations. The characterization of reference and 0.15% Eu 3+ -incorporated perovskite film: (A) scanning electron microscopy images; (B) GIWAXS data; (C) time-resolved photoluminescence spectra; (D) J-V characteristics of devices (ITO/perovskite/Au), used for estimating the SCLC defects concentration (N defects = 2ee 0 V TFL /eL 2 , e and e 0 are the dielectric constants of perovskite and vacuum permittivity, L is the thickness of the perovskite film, and e is the elementary charge). (E) The interface ultrathin Eu clustering-layer-incorporated structural model. (F) Left: half-reaction potential barriers; right: overall redox charge-transfer reaction barrier for Eu incorporated at the interface. (G) The summary of DG between MAPbI 3 and MAPbI 3 incorporated with Eu at the interface. 
 5 of 6 Fig. 4 . 564 Fig. 4. Long-term stability and original performance evolution of PSCs. (A) Original performance evolution based on (FA,MA,Cs)Pb(I,Br) 3 (Cl) perovskite with the incorporation of 0.15% different M(acac) 3 (M = Eu 3+ , Y 3+ , Fe 3+ ). (B) The J-V curve, stable output (measured at 0.97 V), and parameters of 0.15% Eu 3+ -incorporated champion devices. (C) Long-term stability of PSCs based on MAPbI 3 (Cl) perovskite absorber with the incorporation of 0.15% different [M(acac) 3 (M = Eu 3+ , Y 3+ , Fe 3+ )], stored in inert condition. The PCE evolution of Eu 3+ -Eu 2+ -incorporated and reference devices under 1 sun illumination or 85°C aging condition: (D) half PSCs (original PCE: 0.15% Eu 3+ incorporated PSCs, 19.21 ± 0.54%; reference PSCs, 18.05 ± 0.38%) and (E) full PSCs (original PCE: 0.15% Eu 3+ incorporated PSCs, 19.17 ± 0.42%; reference PSCs, 17.82 ± 0.30%). Scanning speed is 20 mV/s. (F) The MPP tracking of 0.15% Eu 3+ -incorporated device, measured at 0.97 V and 1-sun illumination. 
 RESEARCH | REPORTDownloaded from https://www.science.org at University of California San Diego on November 07, 2024 
 
 Table S1 . S1 XPS analysis results of 1% (M/Pb, M = Eu 3+ , Y 3+ , Fe 3+ ) different metal ions incorporated films. Ions BE of I 3d3/2 (eV) Pb 0 /(Pb 0 +Pb 2+ ) I/Pb Detected M/Pb Ref 630.45 5.4 % 2.79 / Y 3+ 630.35 4.5 % 2.84 0.33 Fe 3+ 630.75 1.1 % 2.51 0.14 Eu 3+ 630.25 1.4 % 2.93 0.21 
 Table S2 . S2 Redox pairs and the corresponding standard electrode potential (57) . Half reaction E θ PbI2(+2)/Pb(0) -0.365 V I2/I - 0.536 V Fe 3+ /Fe 2+ 0.771 V Eu 3+ /Eu 2+ -0.360 V 
 Table S3 . S3 XPS analysis results of Pb 4f, I 3d of perovskite films incorporated with 1% Eu 3+ , which were stored under 1 sun illumination or 85 °C heating condition for 1000 hours.Ligang Wang 1 , Huanping Zhou 1 *, Junnan Hu 1 , Bolong Huang 2 , Mingzi Sun 2 , Bowei Dong 1 , Guanghaojie Zheng 1 , Yuan Huang 1 , Yihua Chen 1 , Liang Li 1 , Ziqi Xu 1 , Nengxu Li 1 , Zheng Liu 1 , Qi Chen 3 , Ling-Dong Sun 1 *, Chun-Hua Yan 1 * SOLAR CELLS A Eu 3+ -Eu 2+ ion redox shuttle imparts operational durability to Pb-I Films Ref, 1 sun 1000 h perovskite solar cells BE of I 3d3/2 (eV) 630.59 Pb 0 /(Pb 0 +Pb 2+ ) 7.4 % I/Pb 2.30 Eu 3+ , 1 sun 1000 h 630.29 2.5 % 2.68 Ref, 85 °C 1000 h 630.70 11.3 % 2.13 Eu 3+ , 85 °C 1000 h 630.37 2.7 % 2.57 
			 of 6 RESEARCH | REPORT Downloaded from https://www.science.org at University of California San Diego on November 07, 2024